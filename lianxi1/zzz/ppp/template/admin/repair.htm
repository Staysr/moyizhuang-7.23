<!--<?php
include_once gettpl('top');
if (empty($action)){
print <<<EOT
-->
<table class="tableborder f-w98 f-m0a">
	<tr>
		<td class="header" colspan="2">提示信息</td>
	</tr>
	<tr>
		<td class="notice">修复表 : 此操作可修复数据库在进行查询，删除，更新等操作时产生的错误<br />优化表 : 此操作可优化数据库表结构，以获得更好的数据库运行效率</td>
	</tr>
</table>
<br />
<form action="$basename&" method="post">
	<table class="tableborder f-w98 f-m0a">
		<tr>
			<td class="header" colspan="3">数据库优化</td>
		</tr>
		<tr class="field f-tac">
			<td width="5%"><input type="checkbox" onclick="check_all(this,'tabledb');"></td>
			<td width="5%">ID</td>
			<td>数据库表</td>
		</tr>
<!--
EOT;
$id=0;
foreach($tabledb as $key=>$table){
$id++;
print <<<EOT
-->
		<tr>
			<td class="f-tac"><input type="checkbox" name="tabledb[]" value="$table"></td>
			<td class="f-tac">$id</td>
			<td>$table</td>
		</tr>
<!--
EOT;
}print <<<EOT
-->
	</table>
	<br />
	<center>
		<label><input type="radio" name="action" value="repair">修复表</label>
		<label><input type="radio" name="action" value="optimize" checked="checked">优化表</label><br /><br />
		<input type="submit" value='提 交'>
	</center>
</form>
<!--
EOT;
}else{
print <<<EOT
-->
<table class="tableborder f-w98 f-m0a">
	<tr>
		<td class="header" colspan="3">数据库优化信息</td>
	</tr>
	<tr class="field f-tac">
		<td width=20%>数据库表</td>
		<td width=20%>操作</td>
		<td>信息</td>
	</tr>
<!--
EOT;
foreach($msgdb as $msg){
print <<<EOT
-->
	<tr>
		<td>$msg[Table]</td>
		<td class="f-tac">$msg[Op]</td>
		<td class="f-tal">$msg[Msg_type]:$msg[Msg_text]</td>
	</tr>
<!--
EOT;
}print <<<EOT
-->
</table>
<br />
<center><input type="button" value="返 回" onclick="javascript:history.go(-1);"></center>
<!--
EOT;
}include_once gettpl('adminbottom');
?>-->