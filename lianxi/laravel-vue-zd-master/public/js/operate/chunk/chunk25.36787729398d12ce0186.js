webpackJsonp([25],{"+3Os":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i-select",{ref:t.uuid,staticClass:"remote-select",attrs:{filterable:t.remote,remote:t.remote,"remote-method":t.remoteMethod,clearable:"",loading:t.loading},on:{"on-change":t.setValue},model:{value:t.publicValue,callback:function(e){t.publicValue=e},expression:"publicValue"}},t._l(t.options,function(e,o){return n("i-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))},staticRenderFns:[]}},"1V7l":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},"5Qa0":function(t,e,n){var o=n("eive");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("26316a8c",o,!0,{})},"5zC9":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".ivu-table .table-info-row td[data-v-46901fae]{background-color:#2db7f5;color:#fff}",""])},"8Zki":function(t,e,n){var o=n("FjqK");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("b19b766a",o,!0,{})},"9V9j":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(n("dSCJ")),r=s(n("h7KM")),a=s(n("NzrU")),i=s(n("KrrG"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"index",components:{Remote:i.default,CDatePicker:a.default,MyLists:o.default},mixins:[r.default],data:function(){return{columns:[{title:"车牌号码",key:"number"},{title:"关联司机",render:function(t,e){var n=e.row;return t("span",null,[n.driver?n.driver.name:""])}},{title:"司机号码",render:function(t,e){var n=e.row;return t("span",null,[n.driver?n.driver.phone:""])}},{title:"车辆型号",render:function(t,e){return t("span",null,[e.row.car_type.name])}},{title:"外包公司",render:function(t,e){return t("span",null,[e.row.company.name])}},{title:"车辆配件",key:"parts"},{title:"创建时间",key:"created_at"}]}},methods:{search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$http.get("car/index",{params:this.request(e)}).then(function(e){t.assignmentData(e.data.data)}).finally(function(){t.loading=!1})},download:function(){this.$http.download("car/export",this.request(),"车辆列表.xls")}}}},"9Xvl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=function(t,e){for(let n=0;n<e.length;n++)if(t===e[n])return!0;return!1},e.camelcaseToHyphen=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.getScrollBarSize=function(t){if(r)return 0;if(t||void 0===a){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const e=document.createElement("div"),n=e.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const o=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;o===r&&(r=e.clientWidth),document.body.removeChild(e),a=o-r}return a},e.getStyle=function(t,e){if(!t||!e)return null;"float"===(n=e,e=n.replace(s,function(t,e,n,o){return o?n.toUpperCase():n}).replace(l,"Moz$1"))&&(e="cssFloat");var n;try{const n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}},n.d(e,"firstUpperCase",function(){return c}),e.warnProp=function(t,e,n,o){n=c(n),o=c(o),console.error(`[iView warn]: Invalid prop: type check failed for prop ${e}. Expected ${n}, got ${o}. (found in component: ${t})`)},n.d(e,"deepCopy",function(){return u}),e.scrollTop=function(t,e=0,n,o=500,r){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)});const a=Math.abs(e-n),i=Math.ceil(a/o*50);!function e(n,o,a){if(n===o)return void(r&&r());let i=n+a>o?o:n+a;n>o&&(i=n-a<o?o:n-a);t===window?window.scrollTo(i,i):t.scrollTop=i;window.requestAnimationFrame(()=>e(i,o,a))}(e,n,i)},n.d(e,"findComponentUpward",function(){return d}),e.findComponentDownward=function t(e,n){const o=e.$children;let r=null;if(o.length)for(const e of o){const o=e.$options.name;if(o===n){r=e;break}if(r=t(e,n))break}return r},e.findComponentsDownward=function t(e,n){return e.$children.reduce((e,o)=>{o.$options.name===n&&e.push(o);const r=t(o,n);return e.concat(r)},[])},e.findComponentsUpward=function t(e,n){let o=[];const r=e.$parent;return r?(r.$options.name===n&&o.push(r),o.concat(t(r,n))):[]},e.findBrothersComponents=function(t,e,n=!0){let o=t.$parent.$children.filter(t=>t.$options.name===e),r=o.findIndex(e=>e._uid===t._uid);n&&o.splice(r,1);return o},e.hasClass=p,e.addClass=function(t,e){if(!t)return;let n=t.className;const o=(e||"").split(" ");for(let e=0,r=o.length;e<r;e++){const r=o[e];r&&(t.classList?t.classList.add(r):p(t,r)||(n+=" "+r))}t.classList||(t.className=n)},e.removeClass=function(t,e){if(!t||!e)return;const n=e.split(" ");let o=" "+t.className+" ";for(let e=0,r=n.length;e<r;e++){const r=n[e];r&&(t.classList?t.classList.remove(r):p(t,r)&&(o=o.replace(" "+r+" "," ")))}t.classList||(t.className=f(o))},e.setMatchMedia=function(){if("undefined"!=typeof window){const t=t=>({media:t,matches:!1,on(){},off(){}});window.matchMedia=window.matchMedia||t}};var o=n("I3G/");const r=n.n(o).a.prototype.$isServer;let a;const i=!r&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1);e.MutationObserver=i;const s=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/;function c(t){return t.toString()[0].toUpperCase()+t.toString().slice(1)}function u(t){const e=(n=t,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(n)]);var n;let o;if("array"===e)o=[];else{if("object"!==e)return t;o={}}if("array"===e)for(let e=0;e<t.length;e++)o.push(u(t[e]));else if("object"===e)for(let e in t)o[e]=u(t[e]);return o}function d(t,e,n){n="string"==typeof e?[e]:e;let o=t.$parent,r=o.$options.name;for(;o&&(!r||n.indexOf(r)<0);)(o=o.$parent)&&(r=o.$options.name);return o}const f=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function p(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}e.dimensionMap={xs:"480px",sm:"768px",md:"992px",lg:"1200px",xl:"1600px"};e.sharpMatcherRegx=/#([^#]+)$/},FSn4:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("Table",{ref:"table",attrs:{columns:this.tableCol,data:this.data,size:"small",loading:this.loading}})},staticRenderFns:[]}},FjqK:function(t,e,n){var o=n("u0ja");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("MTIv")(o,r);o.locals&&(t.exports=o.locals)},H2ef:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"my-table",props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{leftCol:[{title:"序号",render:function(t,e){var n=e.index;return t("span",null,[++n])},width:75}],rightCol:[]}},computed:{tableCol:function(){return this.leftCol.concat(this.columns,this.rightCol)}}}},HI89:function(t,e,n){var o=n("mwIQ");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("MTIv")(o,r);o.locals&&(t.exports=o.locals)},KrrG:function(t,e,n){var o=n("VU/8")(n("hd7X"),n("+3Os"),!1,function(t){n("ZTA/")},"data-v-9fb5ba38",null);t.exports=o.exports},NDCw:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default"),t._v(" "),n("div",{staticClass:"box-flex-list"},[n("Card",{attrs:{"dis-hover":""}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._t("title",[n("span",[t._v("列表")])]),t._v(" "),t._t("button")],2),t._v(" "),n("my-table",{ref:"table",attrs:{columns:t.columns,data:t.value.data,size:"small","row-class-name":t.rowClassName,loading:t.loading}}),t._v(" "),n("Page",{attrs:{total:t.value.page.total,size:"small",current:t.value.page.current,"page-size":t.value.page.page_size,"show-total":""},on:{"on-change":t.change}})],1)],1)],2)},staticRenderFns:[]}},Nrzl:function(t,e,n){var o=n("pRzW");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("828b8eb4",o,!0,{})},NzrU:function(t,e,n){var o=n("VU/8")(n("vzFc"),n("mk+S"),!1,function(t){n("Nrzl")},"data-v-15894b3c",null);t.exports=o.exports},SaAI:function(t,e,n){var o=n("doa3");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("MTIv")(o,r);o.locals&&(t.exports=o.locals)},"SiY/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n("Uo1L"),a=(o=r)&&o.__esModule?o:{default:o};e.default={name:"my-lists",components:{MyTable:a.default},props:{value:{type:Object,default:function(){return{data:[],page:{total:100,current:1,page_size:20}}}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$emit("change",t)},rowClassName:function(t,e){}}}},Uo1L:function(t,e,n){var o=n("VU/8")(n("H2ef"),n("FSn4"),!1,function(t){n("8Zki")},"data-v-7eccc0f0",null);t.exports=o.exports},Y9UY:function(t,e,n){var o=n("VU/8")(n("9V9j"),n("oWjB"),!1,function(t){n("lc4a")},"data-v-e6c794cc",null);t.exports=o.exports},"ZTA/":function(t,e,n){var o=n("SaAI");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("e5ae1928",o,!0,{})},dSCJ:function(t,e,n){var o=n("VU/8")(n("SiY/"),n("NDCw"),!1,function(t){n("5Qa0")},"data-v-46901fae",null);t.exports=o.exports},doa3:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".remote-select[data-v-9fb5ba38]{width:2rem}",""])},eive:function(t,e,n){var o=n("5zC9");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("MTIv")(o,r);o.locals&&(t.exports=o.locals)},h7KM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n("nf43"),a=(o=r)&&o.__esModule?o:{default:o};e.default={mixins:[a.default],data:function(){return{searchForm:{},lists:{data:{data:[],page:{total:0,current:1,page_size:20}}},component:{current:"",data:{}}}},mounted:function(){this.search()},methods:{search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},assignmentData:function(t){this.lists.data.data=t.data,this.lists.data.page.total=t.total,this.lists.data.page.current=t.current_page,this.lists.data.page.page_size=t.per_page},showComponent:function(t,e){this.component.current=t,this.component.data=e},hideComponent:function(){this.component.current="",this.component.data={},this.search()},destroyItem:function(t,e){var n=this;this.loading=!0,this.$http.delete(e).then(function(t){n.search()}).catch(function(t){n.formatErrors(t)}).finally(function(){n.loading=!1})},request:function(t){var e=JSON.parse(JSON.stringify(this.searchForm));return e.page=t,e}}}},hd7X:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n("nf43")),r=a(n("BtGT"));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"remote",mixins:[o.default,r.default],props:{remoteUrl:{type:String,default:"",required:!0},remote:{type:Boolean,default:!0},cache:{type:Boolean,default:!0},ready:{type:Boolean,default:!1},params:{type:Object,default:function(){}},searchKey:{type:String,default:"name"},value:{type:[String,Number]}},data:function(){return{publicValue:"",publicOptions:[],publicParams:{},options:this.defaultOption()}},mounted:function(){this.ready&&this.request()},methods:{setValue:function(t){this.$emit("input",t),this.$emit("on-change",this.options.find(function(e){return e.id===t}))},remoteMethod:function(t){var e=this;this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue})&&this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue}).name===t||this.remote&&(this.publicParams[this.searchKey]=t,this.request())},request:function(){var t=this;0===this.$store.getters.cache(this.key()).length?this.$store.getters.cacheLock(this.key())?(this.loading=!0,setTimeout(function(){t.refresh(),t.loading=!1},4e3)):this.search():this.refresh()},search:function(){var t=this;this.loading=!0,this.$store.commit("setCacheLock",this.key()),this.$http.get(this.remoteUrl,{params:this.getParams()}).then(function(e){t.cache?t.$store.commit("setCacheData",{key:t.key(),data:e.data.data}):t.publicOptions=e.data.data}).finally(function(){t.refresh(),t.loading=!1})},defaultOption:function(){return this.cache?this.$store.getters.cache(this.key()):this.publicOptions},key:function(){return this.remoteUrl+JSON.stringify(this.getParams())},refresh:function(){this.options=this.cache?this.$store.getters.cache(this.key()):this.publicOptions},getParams:function(){return Object.assign({},this.params,this.publicParams)},unObserver:function(t){return JSON.parse(JSON.stringify(t))}},watch:{params:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.$refs[this.uuid].clearSingleSelect(),this.request())},deep:!0},value:{handler:function(t){this.publicValue=t},immediate:!0}}}},lc4a:function(t,e,n){var o=n("HI89");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("f59e1eea",o,!0,{})},"mk+S":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("DatePicker",{attrs:{type:t.type,format:t.format,options:t.options,placement:"bottom-end",placeholder:"选择时间",readonly:t.readonly,transfer:""},on:{"on-change":t.change},model:{value:t.sValue,callback:function(e){t.sValue=e},expression:"sValue"}})},staticRenderFns:[]}},mwIQ:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},oWjB:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("my-lists",{attrs:{columns:t.columns,loading:t.loading},on:{change:t.search},model:{value:t.lists.data,callback:function(e){t.$set(t.lists,"data",e)},expression:"lists.data"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("span",[t._v("搜索")])]),t._v(" "),n("Form",{ref:"searchForm",attrs:{model:t.searchForm,inline:"","label-width":60}},[n("FormItem",{attrs:{label:"外包公司"}},[n("remote",{attrs:{"remote-url":"company/select",remote:!1,ready:!0},model:{value:t.searchForm.company_id,callback:function(e){t.$set(t.searchForm,"company_id",e)},expression:"searchForm.company_id"}})],1),t._v(" "),n("FormItem",{attrs:{prop:"driver_id",label:"司机姓名"}},[n("remote",{attrs:{"remote-url":"driver/select",remote:!0,ready:!1,params:{company_id:this.searchForm.company_id}},model:{value:t.searchForm.driver_id,callback:function(e){t.$set(t.searchForm,"driver_id",e)},expression:"searchForm.driver_id"}})],1),t._v(" "),n("FormItem",{attrs:{label:"车牌号码"}},[n("Input",{model:{value:t.searchForm.number,callback:function(e){t.$set(t.searchForm,"number",e)},expression:"searchForm.number"}})],1),t._v(" "),n("FormItem",{attrs:{label:"创建时间","label-width":60}},[n("c-date-picker",{attrs:{type:"daterange"},model:{value:t.searchForm.created_at,callback:function(e){t.$set(t.searchForm,"created_at",e)},expression:"searchForm.created_at"}})],1),t._v(" "),n("FormItem",{attrs:{"label-width":1}},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(1)}}},[t._v("搜索")]),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(e){t.download()}}},[t._v("导出")])],1)],1)],1)],1)},staticRenderFns:[]}},pEmh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{dispatch(t,e,n){let o=this.$parent||this.$root,r=o.$options.name;for(;o&&(!r||r!==t);)(o=o.$parent)&&(r=o.$options.name);o&&o.$emit.apply(o,[e].concat(n))},broadcast(t,e,n){(function t(e,n,o){this.$children.forEach(r=>{r.$options.name===e?r.$emit.apply(r,[n].concat(o)):t.apply(r,[e,n].concat([o]))})}).call(this,t,e,n)}}}},pRzW:function(t,e,n){var o=n("1V7l");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("MTIv")(o,r);o.locals&&(t.exports=o.locals)},u0ja:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},vzFc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n("9Xvl"),a=n("pEmh"),i=(o=a)&&o.__esModule?o:{default:o};e.default={name:"c-date-picker",mixins:[i.default],props:{value:{type:[Date,String,Array]},type:{validator:function(t){return(0,r.oneOf)(t,["year","month","date","daterange","datetime","datetimerange"])},default:"date"},format:String,options:Object,readonly:{type:Boolean,default:!1}},data:function(){return{sValue:this.value}},methods:{change:function(t,e){this.$emit("on-change",t),this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-blur",t)}},watch:{value:function(t){this.sValue=t}}}}});