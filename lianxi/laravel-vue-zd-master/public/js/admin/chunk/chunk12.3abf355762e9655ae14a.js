webpackJsonp([12],{"+v+A":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"detail",props:{title:{type:String,default:""},span:{type:Number,default:8},offset:{type:Number,default:0},titleWidth:{type:Number,default:80}}}},"/bSL":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("/IwO"),r=d(a("h7KM")),i=d(a("PJh5")),s=d(a("Vqnn")),o=d(a("8vx3")),l=d(a("2lfp")),c=d(a("Pc8U"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[r.default,l.default,c.default],data:function(){var t=this;return{amapManager:n.amapManager,buttonSize:"large",cardflag:!0,pack:"收起",zoom:12,center:[113.933665,22.517327],ceju:!1,ranging:null,driving:null,time:"",list:[],status:[],point:[],page:"",marker_visi:!0,search_val:"",search_sel:"",status_type:{0:"未签到",1:"签到",2:"配送中",3:"已完成",4:"不配送",5:"取消"},open:!1,events:{init:function(e){AMap.plugin(["AMap.RangingTool","AMap.TruckDriving"],function(){t.ranging=new AMap.RangingTool(e)})}},makerEvents:{click:function(e){t.information(e.target.F)}}}},created:function(){this.getTime()},methods:{handleClick:function(){this.open=!this.open},handleChange:function(t){this.time=t,this.settime()},handleClear:function(){this.open=!1},handleOk:function(){this.open=!1},cejuf:function(){null!==this.ranging&&(this.ceju?(this.ceju=!1,this.ranging.turnOff()):(this.ceju=!0,this.ranging.turnOn()))},marker_isvisi:function(){this.marker_visi?this.marker_visi=!1:this.marker_visi=!0},getTime:function(){this.time=new Date,this.settime()},last:function(){this.time=new Date,this.time=new Date(this.time.getTime()-864e5),this.settime()},next:function(){this.time=new Date,this.time=new Date(this.time.getTime()+864e5),this.settime()},req:function(t,e){var a=this;this.$http.get(t,{params:{page:e,arrival_warehouse_time:(0,i.default)(this.time).format("YYYY-MM-DD")}}).then(function(t){a.list=t.data.data.data,a.status=t.data.data.status,a.point=t.data.data.point,a.page=a.list.current_page,a.markers.data=JSON.parse(JSON.stringify(t.data.data.data.data))})},settime:function(){this.req("index/index",1),this.driving&&this.driving.clear(),this.position="",this.content=""},last_page:function(){this.req("index/index",this.page+1)},prev_page:function(){this.req("index/index",this.page-1)},cardmin:function(){this.cardflag?this.pack="展开":this.pack="收起",this.cardflag=!this.cardflag},search:function(){"merchants"===this.search_sel?this.req("index/index?merchant="+this.search_val):"task"===this.search_sel?this.req("index/index?task="+this.search_val):"driver"===this.search_sel&&this.req("index/index?driver="+this.search_val)},tab:function(t){this.req("index/index?status="+t)},car_close:function(t){this.showComponent("mView",t)},task:function(t){t.id=t.task_id,this.showComponent("show",t)},card_coor:function(t){this.markers.data=[t];var e=[{lnglat:t.warehouse.location}];t.delivery.forEach(function(t){e.push({lnglat:[t.lng,t.lat]})}),this.setTruckDriving(e)},setTruckDriving:function(t){this.driving&&this.driving.clear(),this.driving=new AMap.TruckDriving({map:this.$refs.amap.$amap,policy:0,size:1,hideMarkers:!0,autoFitView:!0}),this.driving.search(t)}},components:{mView:s.default,show:o.default}}},"2UkU":function(t,e,a){var n=a("VU/8")(a("FdPE"),a("XCHH"),!1,function(t){a("weqv")},"data-v-045875e3",null);t.exports=n.exports},"2lfp":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{},data:function(){var t=this;return{content:"",position:"",status_res:{0:"待配送",1:"已妥投",2:"未妥投"},windowEvents:{close:function(){t.position=""}},information:function(t){"car-marker"==t.vid?(this.position=t.extData.position.location,this.content='<div class="amap-window">\n                                <h6>'+t.extData.position.address+"</h6>\n                                <dl>\n                                    <dd>\n                                        <strong>仓名称:</strong>\n                                        <span>\n                                            "+t.extData.warehouse.title+"\n                                        </span>\n                                    </dd>\n                                    <dd>\n                                        <strong>司机姓名:</strong>\n                                        <span>\n                                            "+t.extData.driver.name+"\n                                        </span>\n                                    </dd>\n                                    <dd>\n                                        <strong>联系电话:</strong>\n                                        <span>\n                                            "+t.extData.driver.phone+"\n                                        </span>\n                                    </dd>\n                                    <dd>\n                                        <strong>车牌号:</strong>\n                                        <span>\n                                            "+t.extData.driver.car_number+"\n                                        </span>\n                                    </dd>\n                                    <dd>\n                                        <strong>定位时间:</strong>\n                                        <span>\n                                            "+t.extData.position.createTime+"\n                                        </span>\n                                    </dd>\n                                </dl>\n                            </div>"):"warehouse-marker"==t.vid?(this.position=t.extData.location,this.content='                    <div class="amap-window">\n                        <h6>'+t.extData.address+"</h6>\n                        <dl>\n                            <dd>\n                                <strong>联系人:</strong>\n                                <span>"+t.extData.contacts+"</span>\n                            </dd>\n                            <dd>\n                                <strong>联系电话:</strong>\n                                <span>"+t.extData.contacts_phone+"</span>\n                            </dd>\n                        </dl>\n                    </div>"):(this.position=t.extData.location,this.content='                    <div class="amap-window">\n                        <h6>\n                            '+t.extData.task.name+"\n                        </h6>\n                        <dl>\n                            <dd>\n                                <strong>联系人:</strong>\n                                <span>"+t.extData.contacts+"</span>\n                            </dd>\n                            <dd>\n                                <strong>联系电话:</strong>\n                                <span>"+t.extData.contact_way+"</span>\n                            </dd>\n                            <dd>\n                                <strong>妥投结果:</strong>\n                                <span>"+this.status_res[t.extData.status]+"</span>\n                            </dd>\n                            <dd>\n                                <strong>妥投时间:</strong>\n                                <span>"+(null==t.extData.finish_time?"-":t.extData.finish_time)+"</span>\n                            </dd>\n                            <dd>\n                                <strong>妥投点:</strong>\n                                <span>"+t.extData.name+'</span>\n                            </dd>\n                            <dd>\n                                <h6>\n                                    <span style="background-color: #2d8cf0;padding:2px;color:#fff">'+(1==t.extData.task.type?"主":"临")+"</span>\n                                    "+t.extData.task.name+"\n                                </h6>\n                            </dd>\n                            <dd>\n                                <strong>司机姓名:</strong>\n                                <span>"+t.extData.driver.name+"</span>\n                            </dd>\n                            <dd>\n                                <strong>联系电话:</strong>\n                                <span>"+t.extData.driver.phone+"</span>\n                            </dd>\n                        </dl>\n                    </div>")}}}}},"6NqX":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{data:{}},data:function(){return{loading:!1}},methods:{change:function(t){!1===t&&this.$emit("on-change")}}}},"76cA":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0===t.status?a("tag",{attrs:{color:"lime"}},[t._v("司机报价中")]):1===t.status?a("tag",{attrs:{color:"green"}},[t._v("选司机中")]):2===t.status?a("tag",{attrs:{color:"blue"}},[t._v("选到可用司机")]):3===t.status?a("tag",{attrs:{color:"cyan"}},[t._v("客户不选司机")]):4===t.status?a("tag",{attrs:{color:"volcano"}},[t._v("过期不选司机")]):5===t.status?a("tag",{attrs:{color:"gold"}},[t._v("无司机报价")]):6===t.status?a("tag",{attrs:{color:"red"}},[t._v("任务作废")]):t._e()},staticRenderFns:[]}},"8vx3":function(t,e,a){var n=a("VU/8")(a("Jfvg"),a("v6QF"),!1,function(t){a("ea6+")},"data-v-78d2ab4f",null);t.exports=n.exports},An7n:function(t,e,a){(function(e){var a;(function(){"use strict";"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e||Function("return this")()})(),a=function(){return function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.install=function(t){t.directive("click-outside",p)};var i=Object.create(null),s=Object.create(null),o=[i,s],l=function(t,e,a){var n=a.target,r=function(e){var r=e.el;if(r!==n&&!r.contains(n)){var i=e.binding;i.modifiers.stop&&a.stopPropagation(),i.modifiers.prevent&&a.preventDefault(),i.value.call(t,a)}};Object.keys(e).forEach(function(t){return e[t].forEach(r)})},c=function(t){l(this,i,t)},d=function(t){l(this,s,t)},u=function(t){return t?c:d},p=e.directive=Object.defineProperties({},{$_captureInstances:{value:i},$_nonCaptureInstances:{value:s},$_onCaptureEvent:{value:c},$_onNonCaptureEvent:{value:d},bind:{value:function(t,e){if("function"!=typeof e.value)throw new TypeError("Binding value must be a function.");var a=e.arg||"click",o=r({},e,{arg:a,modifiers:r({capture:!1,prevent:!1,stop:!1},e.modifiers)}),l=o.modifiers.capture,c=l?i:s;Array.isArray(c[a])||(c[a]=[]),1===c[a].push({el:t,binding:o})&&"object"===("undefined"==typeof document?"undefined":n(document))&&document&&document.addEventListener(a,u(l),l)}},unbind:{value:function(t){var e=function(e){return e.el!==t};o.forEach(function(t){var a=Object.keys(t);if(a.length){var r=t===i;a.forEach(function(a){var i=t[a].filter(e);i.length?t[a]=i:("object"===("undefined"==typeof document?"undefined":n(document))&&document&&document.removeEventListener(a,u(r),r),delete t[a])})}})}}})}])},t.exports=a()}).call(e,a("DuR2"))},B3BL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-status",props:{status:{required:!0}}}},DPOY:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},E4WB:function(t,e,a){var n=a("MdH7");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("57c01f3c",n,!0,{})},FR7p:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a("nf43")),r=i(a("BtGT"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"remote",mixins:[n.default,r.default],props:{remoteUrl:{type:String,default:"",required:!0},remote:{type:Boolean,default:!0},cache:{type:Boolean,default:!0},ready:{type:Boolean,default:!1},params:{type:Object,default:function(){}},searchKey:{type:String,default:"name"},value:{type:[String,Number]}},data:function(){return{publicValue:"",publicOptions:[],publicParams:{},options:this.defaultOption()}},mounted:function(){this.ready&&this.request()},methods:{setValue:function(t){this.$emit("input",t),this.$emit("on-change",this.options.find(function(e){return e.id===t}))},remoteMethod:function(t){var e=this;this.value!=t&&(this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue})&&this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue}).name===t||this.remote&&(this.publicParams[this.searchKey]=t,this.request()))},request:function(){var t=this;0===this.$store.getters.cache(this.key()).length?this.$store.getters.cacheLock(this.key())?(this.loading=!0,setTimeout(function(){t.refresh(),t.loading=!1},4e3)):this.search():this.refresh()},search:function(){var t=this;this.loading=!0,this.$store.commit("setCacheLock",this.key()),this.$http.get(this.remoteUrl,{params:this.getParams()}).then(function(e){t.cache?t.$store.commit("setCacheData",{key:t.key(),data:e.data.data}):t.publicOptions=e.data.data}).finally(function(){t.refresh(),t.loading=!1})},defaultOption:function(){return this.cache?this.$store.getters.cache(this.key()):this.publicOptions},key:function(){return this.remoteUrl+JSON.stringify(this.getParams())},refresh:function(){this.options=this.cache?this.$store.getters.cache(this.key()):this.publicOptions},getParams:function(){return Object.assign({},this.params,this.publicParams)},unObserver:function(t){return JSON.parse(JSON.stringify(t))}},watch:{params:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.$refs[this.uuid].clearSingleSelect(),this.request())},deep:!0},value:{handler:function(t){this.publicValue=t},immediate:!0}}}},FdPE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=a("/IwO"),i=a("WuDf"),s=(n=i)&&n.__esModule?n:{default:n},o=a("An7n");new r.AMapManager;e.default={name:"place-search-select",directives:{clickOutside:o.directive,TransferDom:s.default},props:["searchOption","value"],data:function(){return{loading:!1,places:[],model:this.value,dropVisible:!1,city:"深圳市",category:[]}},mounted:function(){var t=this;this.loading=!0,this.$nextTick(function(){0===t.$store.getters.cache("category").length?t.$store.getters.cacheLock("category")?setTimeout(function(){t.refresh()},4e3):(t.$store.commit("setCacheLock","category"),t.$http.get("category/checkbox").then(function(e){t.$store.commit("setCacheData",{key:"category",data:e.data.data}),t.refresh()})):t.refresh()})},computed:{_placeSearch:function(){return new AMap.PlaceSearch(this.searchOption||{city:this.city,citylimit:!0,extensions:"all"})}},methods:{initSearch:function(t){this.setDefaultValue(),this.initFocus(t)},initFocus:function(t){var e=this;this.model=t.target.value,this._placeSearch.search(t.target.value,function(t,a){a&&a.poiList&&a.poiList.count&&(e.places=a.poiList.pois,e.dropVisible=!0)})},setValue:function(t){this.dropVisible=!1,this.$emit("input",this.places[t].name),this.$emit("pois",this.places[t]),this.$emit("on-change",this.places[t]),this.$emit("city",this.city)},setDefaultValue:function(){this.$emit("input",""),this.$emit("city",""),this.$emit("pois",{})},onClickOutside:function(){this.dropVisible=!1},refresh:function(){this.category=this.$store.getters.cache("category"),this.loading=!1}},watch:{value:function(t){""!==t&&(this.model=t)}}}},GWUp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"component-modal",props:{title:{type:String,default:"弹窗"},width:{type:Number,default:650},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$parent.$emit("on-change")}}}},"HtL/":function(t,e,a){var n=a("VU/8")(a("GWUp"),a("zN6J"),!1,function(t){a("LrlP")},"data-v-67bf1da2",null);t.exports=n.exports},I1hL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(a("HtL/")),r=d(a("6NqX")),i=d(a("OcB2")),s=d(a("RGLJ")),o=d(a("KrrG")),l=d(a("V+PA")),c=d(a("h7KM"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"o-view",components:{Detail:s.default,Box:i.default,ComponentModal:n.default,Remote:o.default,Point:l.default},mixins:[r.default,c.default],mounted:function(){var t=this;this.$nextTick(function(){t.getView()})},data:function(){var t=this;return{orders:{delivery:[]},columns:[{title:"序号",render:function(t,e){return t("span",null,[e.index+1])}},{title:"联系人",key:"contacts"},{title:"联系方式",key:"contact_way"},{title:"交付地址",key:"name"},{title:"实际地址",key:"put_address"},{title:"妥投状态",render:function(t,e){var a=e.row;return t("span",null,[0===a.status?"未操作":1===a.status?"已妥投":"未妥投"])}},{title:"原因",key:"reason"},{title:"签收照片",key:"img_one"},{title:"妥投时间",key:"finish_time"},{title:"操作",render:function(e,a){var n=a.row;return e("button-group",null,[e("poptip",{attrs:{confirm:!0,transfer:!0,title:"确定要删除吗？"},on:{"on-ok":function(){return t.destroyItem(n,"order/point/"+n.id)}}},[e("i-button",{attrs:{size:"small"}},["删除"])])])}}]}},methods:{notify:function(t){var e=this;this.$http.post("order/notify/"+t.id).then(function(t){}).finally(function(){e.$Message.success("已推送通知")})},getView:function(){var t=this;this.loading=!0,this.$http.get("order/"+this.data.id).then(function(e){t.orders=e.data.data}).finally(function(){t.loading=!1})},destroyItem:function(t,e){var a=this;this.loading=!0,this.$http.delete(e).then(function(t){a.getView()}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1})}}}},Jfvg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(a("HtL/")),r=l(a("6NqX")),i=l(a("RGLJ")),s=l(a("OcB2")),o=l(a("XmfH"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"show",components:{TaskStatus:o.default,Box:s.default,Detail:i.default,ComponentModal:n.default},mixins:[r.default],data:function(){return{tableCol:[{title:"序号",render:function(t,e){var a=e.index;return t("span",null,[++a])}},{title:"地址",key:"name"},{title:"联系人",key:"contacts"},{title:"联系方式",key:"contact_way"}],task:{send_time:[],warehouse:{id:0,title:""},distance_json:"",goods_volume:"",goods_weight:"",goods_num:"",unit_price:"",merchant_safe:{is_per:0,safe_fee:0},extra:{carry:{is_worker:0,is_loading:0,is_unloading:0,textarea:""},other:{is_remove_seat:0,is_trolley:0,is_tail_plate:0,is_extinguisher:0,is_lock:0,other_require:""}}}}},mounted:function(){this.search()},methods:{search:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,this.$http.get("task/"+this.data.id).then(function(e){t.task=JSON.parse(JSON.stringify(e.data.data)),t.loading=!1})}},filters:{formatArray:function(t){return(t||[]).join(",")},formatWeek:function(t){var e="",a=["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"];return void 0!==t&&t instanceof Array?(t.forEach(function(t,n){e+=a[n]+" "}),e):t},valueOfSingle:function(t){var e="";return void 0!==t&&t instanceof Array?(t.forEach(function(t,a){e+=t.value+" "}),e):""},formatCarry:function(t){switch(t){case 0:return"无需搬运";case 1:return"轻度搬运";case 2:return"中度搬运";case 3:return"重度搬运"}},formatNumber:function(t){return t?t.min+"-"+t.max:""}}}},KrrG:function(t,e,a){var n=a("VU/8")(a("FR7p"),a("a/P1"),!1,function(t){a("VXKl")},"data-v-12f16dd7",null);t.exports=n.exports},LrlP:function(t,e,a){var n=a("qkgB");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("4cb8b4f2",n,!0,{})},MWZo:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".remote-select[data-v-12f16dd7]{width:150px}",""])},MdH7:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".box-detail{line-height:26px}.box-form .box-detail{margin-bottom:20px;line-height:33px}.box-detail>.ivu-form-item{margin-bottom:0;display:inline-block}.box-detail .box-detail-title{text-align:right;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}",""])},NLD1:function(t,e,a){var n=a("uoRf");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("25926673",n,!0,{})},OcB2:function(t,e,a){var n=a("VU/8")(a("s7MV"),a("sF/1"),!1,function(t){a("YuGU")},"data-v-be6cef20",null);t.exports=n.exports},Pc8U:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{},data:function(){return{markers:{data:[],car:function(t,e){e.extData;return t("span",{class:"marker-car"},[t("i",{class:" ivu-icon ivu-icon-ios-car"},[" "])])},warehouse:function(t,e){e.extData;return t("span",{class:"marker-warehouse"},["仓"])},delivery:function(t,e){var a=e.extData;return 0==a.status?t("span",{class:"marker-delivery yellow"},[a.sort]):1==a.status?t("span",{class:"marker-delivery green"},[a.sort]):t("span",{class:"marker-delivery red"},[a.sort])}}}}}},QE7N:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".amap-page-container{height:400px;position:relative}.long-lat-text{background-color:#fff;border:1px solid silver;padding:2px;position:absolute;top:10px;right:10px;border-radius:6px}",""])},QK5q:function(t,e,a){var n=a("QE7N");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("59d18426",n,!0,{})},RGLJ:function(t,e,a){var n=a("VU/8")(a("+v+A"),a("mHOb"),!1,function(t){a("E4WB")},null,null);t.exports=n.exports},TJ9x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{name:[{required:!0,type:"string",message:"地址必须填写",trigger:"blur"}],contacts:[{required:!0,message:"联系人必须填写",type:"string",trigger:"blur"}],contact_way:[{required:!0,message:"联系方式必须填写",type:"string",trigger:"blur"}]}}},UGvl:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("Input",{attrs:{search:"",placeholder:"请输入商户简称/线路名称/司机姓名"},model:{value:t.search_val,callback:function(e){t.search_val=e},expression:"search_val"}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.search_sel,callback:function(e){t.search_sel=e},expression:"search_sel"}},[a("Option",{attrs:{value:"merchants"}},[t._v("商户")]),t._v(" "),a("Option",{attrs:{value:"task"}},[t._v("线路")]),t._v(" "),a("Option",{attrs:{value:"driver"}},[t._v("司机")])],1),t._v(" "),a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(e){t.search()}},slot:"append"})],1),t._v(" "),a("div",{style:{marginLeft:"5rem"}},[a("span",{staticClass:"btn btn-radius-left pointer",on:{click:function(e){t.settime()}}},[a("Icon",{attrs:{type:"md-sync"}}),t._v(" 刷新")],1),t._v(" "),a("span",{staticClass:"btn pointer",on:{click:function(e){t.cejuf()}}},[a("Icon",{attrs:{type:"md-color-filter"}}),t._v(" 测距")],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.marker_visi,expression:"marker_visi"}],staticClass:"btn btn-radius-right pointer",on:{click:function(e){t.marker_isvisi()}}},[a("Icon",{attrs:{type:"ios-eye-off"}}),t._v(" 隐藏配送点")],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.marker_visi,expression:"!marker_visi"}],staticClass:"btn btn-radius-right pointer",on:{click:function(e){t.marker_isvisi()}}},[a("Icon",{attrs:{type:"ios-eye"}}),t._v(" 显示配送点")],1)]),t._v(" "),a("div",{style:{marginLeft:"5rem"}},[a("span",{staticClass:"btn btn-radius-left"},[t._v("订单:待配送\n                "),a("b",{staticClass:"icon-yellow"},[t._v(" "+t._s(t.point[0]))])]),t._v(" "),a("span",{staticClass:"btn"},[t._v("已妥投\n                "),a("b",{staticClass:"icon-green"},[t._v(" "+t._s(t.point[1]))])]),t._v(" "),a("span",{staticClass:"btn btn-radius-right"},[t._v("未妥投\n                "),a("b",{staticClass:"icon-red"},[t._v(" "+t._s(t.point[2]))])])]),t._v(" "),a("div",{staticClass:"tip"},[a("ul",[a("li",{on:{click:function(e){t.last()}}},[t._v("昨天")]),t._v(" "),a("li",{on:{click:function(e){t.getTime()}}},[t._v("今天")]),t._v(" "),a("li",{on:{click:function(e){t.next()}}},[t._v("明天")])])]),t._v(" "),a("DatePicker",{attrs:{open:t.open,value:t.time,confirm:"",type:"date"},on:{"on-change":t.handleChange,"on-clear":t.handleClear,"on-ok":t.handleOk}},[a("div",{staticClass:"time_box"},[a("div",{staticClass:"time_temp"},[t._v(t._s(t._f("timeformat")(t.time)))]),t._v(" "),a("a",{staticClass:"time_icon",attrs:{href:"javascript:void(0)"},on:{click:t.handleClick}},[a("Icon",{attrs:{type:"ios-calendar-outline"}})],1)])])],1),t._v(" "),a("div",{staticStyle:{padding:"20px",position:"absolute","z-index":"1",top:"1.9rem"}},[a("Card",{directives:[{name:"show",rawName:"v-show",value:t.cardflag,expression:"cardflag"}],style:{borderRadius:"5px",border:"1px solid #dadada"},attrs:{bordered:!1}},[a("table",{staticClass:"card_table"},[a("tbody",[a("tr",[a("td",{attrs:{rowspan:"2"},on:{click:function(e){t.settime()}}},[t._v("全部 "+t._s(t.status[0]+t.status[1]+t.status[2]+t.status[3]+t.status[4]+t.status[6]))]),t._v(" "),a("td",{on:{click:function(e){t.tab(0)}}},[t._v("未签到 "+t._s(t.status[0]))]),t._v(" "),a("td",{on:{click:function(e){t.tab(1)}}},[t._v("签到 "+t._s(t.status[1]))]),t._v(" "),a("td",{on:{click:function(e){t.tab(2)}}},[t._v("配送中 "+t._s(t.status[2]))])]),t._v(" "),a("tr",[a("td",{on:{click:function(e){t.tab(3)}}},[t._v("已完成 "+t._s(t.status[3]))]),t._v(" "),a("td",{on:{click:function(e){t.tab(4)}}},[t._v("不配送 "+t._s(t.status[4]))]),t._v(" "),a("td",{on:{click:function(e){t.tab(6)}}},[t._v("取消 "+t._s(t.status[6]))])])])]),t._v(" "),t._l(t.list.data,function(e,n){return a("Card",{key:n,staticStyle:{width:"350px","font-size":"12px","margin-bottom":"6px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"temporary"},[t._v(t._s(1==e.task.type?"主":"临"))]),t._v(" "),a("span",{staticClass:"nameFormat",style:{margin:"0 0.2rem"}},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"nameFormat",style:{margin:"0 0.2rem"}},[t._v(t._s(e.merchant.short_name))]),t._v(" "),a("a",{attrs:{slot:"extra"},on:{click:function(a){t.task(e)}},slot:"extra"},[t._v("\n                        任务详情\n                    ")])]),t._v(" "),a("a",{attrs:{slot:"extra"},on:{click:function(a){t.car_close(e)}},slot:"extra"},[t._v("\n                    详情\n                    "),a("Icon",{attrs:{type:"md-arrow-dropright"}})],1),t._v(" "),a("div",{staticClass:"card_body",on:{click:function(a){t.card_coor(e)}}},[a("p",[t._v(t._s(e.car_type.name)+"\n                    ")]),t._v(" "),a("router-link",{style:{color:"#515a6e"},attrs:{to:"task.create"}},[t._v(t._s(e.driver.name)+t._s(e.driver.phone))]),t._v(" "),a("br"),t._v(t._s(t.status_type[e.status])+t._s(e.late)),a("br"),t._v(" 到仓时间："+t._s(e.arrival_warehouse_time)+"\n\n                ")],1)])}),t._v(" "),a("div",{style:{textAlign:"right"}},[a("Button",{style:{color:"#2b85e4"},attrs:{type:"dashed"},on:{click:function(e){t.prev_page()}}},[t._v("上一页")]),t._v(t._s(t.list.current_page)+"/"+t._s(t.list.last_page)+"\n                "),a("Button",{style:{color:"#2b85e4"},attrs:{type:"dashed"},on:{click:function(e){t.last_page()}}},[t._v("下一页")])],1),t._v(" "),a("div",{style:{textAlign:"right"}},[a("Button",{attrs:{type:"primary",ghost:"",to:"task.create/?type=1"}},[t._v("+招主司机")]),t._v(" "),a("Button",{attrs:{type:"primary",to:"task.create/?type=2"}},[t._v("+招临时司机")])],1)],2),t._v(" "),a("span",{staticClass:"cardmin",on:{click:function(e){t.cardmin()}}},[t._v("\n            "+t._s(t.pack)+"\n        ")])],1),t._v(" "),a("div",{staticClass:"amap-page-container"},[a("el-amap",{ref:"amap",staticClass:"amap-demo",attrs:{vid:"amapDemo","amap-manager":t.amapManager,center:t.center,events:t.events,zoom:t.zoom}},[t._l(t.markers.data,function(e,n){return[e.position?a("el-amap-marker",{key:"car"+n,attrs:{vid:"car-marker",position:e.position.location,"ext-data":e,events:t.makerEvents,"content-render":t.markers.car}}):t._e(),t._v(" "),e.warehouse.location?a("el-amap-marker",{key:"warehouse"+n,attrs:{vid:"warehouse-marker",position:e.warehouse.location,events:t.makerEvents,"ext-data":e.warehouse,"content-render":t.markers.warehouse}}):t._e(),t._v(" "),t._l(e.delivery,function(e,r){return a("el-amap-marker",{key:n+"-"+r,staticClass:"amap-marker",attrs:{vid:"delivery-marker",position:e.location,events:t.makerEvents,"ext-data":e,visible:t.marker_visi,"content-render":t.markers.delivery}})})]}),t._v(" "),t.position?a("el-amap-info-window",{attrs:{position:t.position,events:t.windowEvents,content:t.content}}):t._e()],2)],1),t._v(" "),a(t.component.current,{tag:"components",attrs:{data:t.component.data},on:{"on-change":t.hideComponent}}),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"prompt"},[e("span",{staticClass:"tools"},[e("i",{staticClass:"yellow"}),this._v(" 待配送\n        ")]),this._v(" "),e("span",{staticClass:"tools"},[e("i",{staticClass:"green"}),this._v(" 已妥投\n        ")]),this._v(" "),e("span",{staticClass:"tools"},[e("i",{staticClass:"red"}),this._v(" 未妥投\n        ")])])}]}},Utph:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".amap-demo[data-v-5e1bee97],.amap-page-container[data-v-5e1bee97]{height:100%}.btn[data-v-5e1bee97]{float:left;height:2.2rem;display:inline-block;border:1px solid #dcdee2;background-color:#fff;text-align:center;line-height:2.2rem;padding:0 1rem;color:#000}.btn[data-v-5e1bee97]:nth-child(2){border-left:none;border-right:none}.btn.pointer[data-v-5e1bee97]{cursor:pointer}.btn.pointer[data-v-5e1bee97]:hover{color:#2d8cf0}.btn.btn-radius-left[data-v-5e1bee97]{border-radius:4px 0 0 4px}.btn.btn-radius-right[data-v-5e1bee97]{border-radius:0 4px 4px 0}.btn .icon-green[data-v-5e1bee97]{color:#34ccb6}.btn .icon-yellow[data-v-5e1bee97]{color:#fab308}.btn .icon-red[data-v-5e1bee97]{color:#da0000}.top[data-v-5e1bee97]{position:fixed;z-index:99;top:7.5rem;left:13.75rem;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.top .tip[data-v-5e1bee97]{float:right;height:2.2rem;line-height:2rem;border-radius:5px 0 0 5px;background-color:#fff;display:inline-block;-webkit-box-shadow:0 2px 2px #d0cfcc;box-shadow:0 2px 2px #d0cfcc;margin-left:3rem;-webkit-box-sizing:border-box;box-sizing:border-box;padding:.31rem 0}.top .tip ul[data-v-5e1bee97]{list-style:none;margin:0;padding:0 20px;float:left}.top .tip ul li[data-v-5e1bee97]{float:left;list-style:none;border:1px solid #dadada;height:24px;line-height:23px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 12px;cursor:pointer;color:#000}.top .tip ul li[data-v-5e1bee97]:hover{color:#2d8cf0}.top .time_box[data-v-5e1bee97]{-webkit-box-shadow:0 2px 2px #d0cfcc;box-shadow:0 2px 2px #d0cfcc;border-left:none;height:2.2rem}.top .time_box .time_temp[data-v-5e1bee97]{height:2.2rem;width:10rem;line-height:2.2rem;text-align:center;font-size:14px;background-color:#fff;float:left}.top .time_box .time_icon[data-v-5e1bee97]{display:inline-block;width:2.2rem;height:2.2rem;background-color:#fff;color:#414141;font-size:1rem;text-align:center;line-height:2.2rem;border-left:1px solid #dadada;border-radius:0 5px 5px 0}.ivu-input-group[data-v-5e1bee97]{width:25%}.ivu-input-group-append .ivu-btn[data-v-5e1bee97]{background-color:#2d8cf0;color:#fff}.ivu-card-head p[data-v-5e1bee97]{font-weight:400;padding-left:.8rem}.card_table[data-v-5e1bee97]{border-collapse:collapse;border:1px solid #dadada;margin-bottom:.5rem}.card_table td[data-v-5e1bee97]{padding:6px 18px;text-align:center;border:1px solid #dadada;cursor:pointer}.amap-window[data-v-5e1bee97]{width:11rem}.amap-window dd[data-v-5e1bee97]{margin-left:0;color:#666;line-height:25px;display:-webkit-box;display:-ms-flexbox;display:flex}.amap-window dd strong[data-v-5e1bee97]{font-weight:400;-ms-flex-preferred-size:60px;flex-basis:60px;text-align:right}.amap-window dd span[data-v-5e1bee97]{margin-left:.3rem;color:#010101;-webkit-box-flex:1;-ms-flex:1;flex:1}.prompt[data-v-5e1bee97]{width:12rem;background-color:#fff;height:3rem;line-height:3rem;position:relative;bottom:8rem;right:-88rem;padding-left:.6rem;border-radius:10px}.prompt .tools[data-v-5e1bee97]{color:#000}.prompt .tools i[data-v-5e1bee97]{display:inline-block;height:16px;width:16px;vertical-align:middle}.layout>.ivu-layout .layout-footer-center[data-v-5e1bee97]{display:none}.layout>.ivu-layout .layout-content-main>div[data-v-5e1bee97]{display:-webkit-box}.marker-car[data-v-5e1bee97],.marker-delivery[data-v-5e1bee97],.marker-warehouse[data-v-5e1bee97]{display:block;height:28px;width:28px;border:3px solid #fff;text-align:center;border-radius:50%;color:#fff;font-size:16px}.marker-car[data-v-5e1bee97]{background-color:#c300d5}.marker-warehouse[data-v-5e1bee97]{background-color:#414141}.yellow[data-v-5e1bee97]{background-color:#fab308}.green[data-v-5e1bee97]{background-color:#34ccb6}.red[data-v-5e1bee97]{background-color:#da0000}",""])},"V+PA":function(t,e,a){var n=a("VU/8")(a("hT6H"),a("r7IW"),!1,function(t){a("QK5q"),a("NLD1")},"data-v-1e338f4e",null);t.exports=n.exports},"VOM+":function(t,e,a){var n=a("VU/8")(a("/bSL"),a("UGvl"),!1,function(t){a("n9x8")},"data-v-5e1bee97",null);t.exports=n.exports},VXKl:function(t,e,a){var n=a("MWZo");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("02b562e3",n,!0,{})},Vqnn:function(t,e,a){var n=a("VU/8")(a("I1hL"),a("zN/v"),!1,function(t){a("q3hg")},"data-v-00981ab6",null);t.exports=n.exports},WuDf:function(t,e,a){"use strict";function n(t){return void 0===t&&(t=document.body),!0===t?document.body:t instanceof window.Node?t:document.querySelector(t)}Object.defineProperty(e,"__esModule",{value:!0});const r={inserted(t,{value:e},a){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";const r=t.parentNode;if(!r)return;const i=document.createComment("");let s=!1;!1!==e&&(r.replaceChild(i,t),n(e).appendChild(t),s=!0),t.__transferDomData||(t.__transferDomData={parentNode:r,home:i,target:n(e),hasMovedOut:s})},componentUpdated(t,{value:e}){if(t.dataset&&"true"!==t.dataset.transfer)return!1;const a=t.__transferDomData;if(!a)return;const r=a.parentNode,i=a.home,s=a.hasMovedOut;!s&&e?(r.replaceChild(i,t),n(e).appendChild(t),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!0,target:n(e)})):s&&!1===e?(r.replaceChild(t,i),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!1,target:n(e)})):e&&n(e).appendChild(t)},unbind(t){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className.replace("v-transfer-dom",""),t.__transferDomData&&(!0===t.__transferDomData.hasMovedOut&&t.__transferDomData.parentNode&&t.__transferDomData.parentNode.appendChild(t),t.__transferDomData=null)}};e.default=r},XCHH:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside.capture",value:t.onClickOutside,expression:"onClickOutside",modifiers:{capture:!0}},{name:"click-outside",rawName:"v-click-outside:mousedown.capture",value:t.onClickOutside,expression:"onClickOutside",arg:"mousedown",modifiers:{capture:!0}}],staticStyle:{"vertical-align":"top"},attrs:{visible:t.dropVisible,trigger:"custom"},on:{"on-click":t.setValue}},[a("Input",{attrs:{value:t.model,placeholder:"Enter something..."},on:{"on-change":t.initSearch,"on-focus":t.initFocus}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",loading:t.loading},on:{"on-change":t.setDefaultValue},slot:"prepend",model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.category,function(e,n){return a("Option",{key:n,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.places,function(e,n){return a("DropdownItem",{key:n,attrs:{name:n}},[t._v(t._s(e.name))])}))],1)},staticRenderFns:[]}},XmfH:function(t,e,a){var n=a("VU/8")(a("B3BL"),a("76cA"),!1,function(t){a("mlt6")},"data-v-50792fc6",null);t.exports=n.exports},YNGj:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},YuGU:function(t,e,a){var n=a("kKdy");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("61a606ac",n,!0,{})},"a/P1":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i-select",{ref:t.uuid,staticClass:"remote-select",attrs:{filterable:t.remote,remote:t.remote,"remote-method":t.remoteMethod,clearable:"",loading:t.loading},on:{"on-change":t.setValue},model:{value:t.publicValue,callback:function(e){t.publicValue=e},expression:"publicValue"}},t._l(t.options,function(e,n){return a("i-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))},staticRenderFns:[]}},a7tE:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".order-step[data-v-00981ab6]{margin-bottom:10px}",""])},"ea6+":function(t,e,a){var n=a("YNGj");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("a9fb40d6",n,!0,{})},h7KM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=a("nf43"),i=(n=r)&&n.__esModule?n:{default:n};e.default={mixins:[i.default],data:function(){return{searchForm:{},lists:{data:{data:[],page:{total:0,current:1,page_size:20}}},component:{current:"",data:{}}}},mounted:function(){this.search()},methods:{search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},assignmentData:function(t){this.lists.data.data=t.data,this.lists.data.page.total=t.total,this.lists.data.page.current=t.current_page,this.lists.data.page.page_size=t.per_page},showComponent:function(t,e){this.component.current=t,this.component.data=e},hideComponent:function(){this.component.current="",this.component.data={},this.search()},destroyItem:function(t,e){var a=this;this.loading=!0,this.$http.delete(e).then(function(t){a.search()}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1})},request:function(t){var e=JSON.parse(JSON.stringify(this.searchForm));return e.page=t,e}}}},hT6H:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(a("6NqX")),r=u(a("HtL/")),i=u(a("OcB2")),s=a("TJ9x"),o=u(a("xi7R")),l=u(a("KrrG")),c=u(a("h7KM")),d=u(a("2UkU"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Create",components:{Remote:l.default,ComponentModal:r.default,Box:i.default,Validator:s.Validator,PlaceSearchSelect:d.default},mixins:[c.default,n.default,o.default],data:function(){return{formCreate:{contacts:"",contact_way:"",lng:0,lat:0},ruleCreate:(0,s.Validator)(this)}},computed:{lng:function(){return this.formCreate.lng},lat:function(){return this.formCreate.lat}},methods:{pois:function(t){this.formCreate.lat=t.location?t.location.lat:0,this.formCreate.lng=t.location?t.location.lng:0},createSubmit:function(t,e){var a=this;this.$refs[t].validate(function(n){n&&(a.loading=!0,a.$http.post(e,a._data[t]).then(function(t){a.$Message.success("Success!"),a.change(!1),a.$emit("on-ok")}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1}))})}}}},kKdy:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".box[data-v-be6cef20]{margin-bottom:10px;border:1px solid #dddee1;border-radius:5px}.box[data-v-be6cef20]:last-child{margin-bottom:0}.box-header[data-v-be6cef20]{padding:8px 48px 8px 16px;color:#495060;font-size:12px;line-height:16px;border-bottom:1px solid #dddee1}.box-detail[data-v-be6cef20]{padding:10px}",""])},mHOb:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Col",{staticClass:"box-detail",attrs:{span:t.span,offset:t.offset}},[""!==t.title?a("div",{staticClass:"box-detail-title",style:{width:t.titleWidth+"px"}},[t._v(t._s(t.title)+"：")]):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},mlt6:function(t,e,a){var n=a("DPOY");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("80dc28ec",n,!0,{})},n9x8:function(t,e,a){var n=a("Utph");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("1d590bb2",n,!0,{})},q3hg:function(t,e,a){var n=a("a7tE");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("6d8d5cc0",n,!0,{})},qkgB:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".modal-body[data-v-67bf1da2]{max-height:650px;overflow-y:auto}",""])},r7IW:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("component-modal",{attrs:{title:"创建配送点",loading:t.loading,width:850}},[a("Form",{ref:"formCreate",attrs:{model:t.formCreate,"label-width":100,rules:t.ruleCreate}},[a("FormItem",{attrs:{label:"联系人：",prop:"contacts"}},[a("Input",{attrs:{placeholder:"联系人"},model:{value:t.formCreate.contacts,callback:function(e){t.$set(t.formCreate,"contacts",e)},expression:"formCreate.contacts"}})],1),t._v(" "),a("FormItem",{attrs:{label:"联系电话：",prop:"contact_way"}},[a("Input",{attrs:{placeholder:"联系电话"},model:{value:t.formCreate.contact_way,callback:function(e){t.$set(t.formCreate,"contact_way",e)},expression:"formCreate.contact_way"}})],1),t._v(" "),a("FormItem",{attrs:{label:"地址：",prop:"name"}},[a("place-search-select",{staticStyle:{width:"500px"},on:{pois:t.pois},model:{value:t.formCreate.name,callback:function(e){t.$set(t.formCreate,"name",e)},expression:"formCreate.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"地图页面："}},[a("box",{attrs:{title:"地图页面"}},[a("div",{staticClass:"amap-page-container"},[a("el-amap",{attrs:{center:[t.lng,t.lat]}},[a("el-amap-marker",{attrs:{vid:"component-marker",position:[t.lng,t.lat]}}),t._v(" "),a("div",{staticClass:"long-lat-text"},[t._v("经度："+t._s(t.lng)+" ， 维度："+t._s(t.lat))])],1)],1)])],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.createSubmit("formCreate","order/point/"+t.data.id)}}},[t._v("创建")])],1),t._v(" "),a(t.component.current,{tag:"components",attrs:{data:t.component.data},on:{"on-change":t.hideComponent}})],1)},staticRenderFns:[]}},s7MV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"box",props:{title:{type:String,default:"标题"},form:[Boolean]}}},"sF/1":function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box",class:{"box-form":this.form}},[e("div",{staticClass:"box-header"},[this._v(this._s(this.title))]),this._v(" "),e("Row",{staticClass:"box-detail"},[this._t("default")],2)],1)},staticRenderFns:[]}},uoRf:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},v6QF:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("component-modal",{attrs:{title:"查看任务详情",width:950,loading:t.loading}},[a("box",{attrs:{title:"任务信息"}},[a("detail",{attrs:{title:"任务编号"}},[t._v(t._s(t.task.id))]),t._v(" "),a("detail",{attrs:{title:"任务状态"}},[a("task-status",{attrs:{status:t.task.status}})],1),t._v(" "),a("detail",{attrs:{title:"任务创建时间"}},[t._v(t._s(t.task.create_time))]),t._v(" "),a("detail",{attrs:{title:"任务类型"}},[t._v(t._s(1===t.task.type?"主任务":"临时任务"))]),t._v(" "),a("detail",{attrs:{title:"仓库名称"}},[t._v(t._s(t.task.warehouse.title))]),t._v(" "),a("detail",{attrs:{title:"线路名称"}},[t._v(t._s(t.task.name))]),t._v(" "),a("detail",{attrs:{title:"是否固定点"}},[t._v(t._s(1===t.task.is_fixed_point?"固定点":"非固定点"))]),t._v(" "),a("detail",{attrs:{title:"是否返仓"}},[t._v(t._s(1===t.task.is_back?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"非固定点配送点"}},[t._v(t._s(t._f("formatNumber")(t.task.unfixed_json))+"个 ")]),t._v(" "),a("detail",{attrs:{title:"配送总里程"}},[t._v(t._s(t._f("formatNumber")(t.task.distance_json))+" 公里")]),t._v(" "),a("detail",{attrs:{title:"配送区域描述"}},[t._v(t._s(t.task.delivery_point_remark))]),t._v(" "),a("detail",{attrs:{title:"保险"}},[t._v(t._s(0===t.task.merchant_safe_id?"未购买":1===t.task.merchant_safe.is_per?"运费的"+t.task.merchant_safe.is_per+"%":t.task.merchant_safe.safe_fee)+"\n        ")]),t._v(" "),a("detail",{attrs:{title:"车型",span:12}},[t._v(t._s(t._f("formatArray")(t.task.car_type_name)))])],1),t._v(" "),t.task.delivery?a("box",{attrs:{title:"固定配送点信息"}},[a("Table",{ref:"table",attrs:{columns:t.tableCol,data:t.task.delivery,size:"small",loading:t.loading}})],1):t._e(),t._v(" "),a("box",{attrs:{title:"任务时间"}},[a("detail",{attrs:{title:"司机上岗日期"}},[t._v(t._s(1===t.task.type?t.task.arrival_date:t.task.temp_start_date))]),t._v(" "),a("detail",{attrs:{title:"配送时间"}},[t._v("\n            "+t._s(t._f("formatWeek")(2===t.task.type?t.task.temp_start_date:t.task.send_time))+"\n        ")]),t._v(" "),a("detail",{attrs:{title:"到仓时间"}},[t._v(t._s(t.task.arrival_warehouse_time))]),t._v(" "),a("detail",{attrs:{title:"预计完成时间"}},[t._v(t._s(t.task.estimate_time))]),t._v(" "),a("detail",{attrs:{title:"报价截止时间",span:8}},[t._v(t._s(t.task.offer_end_time))]),t._v(" "),a("detail",{attrs:{title:"选司机截止时间",span:8}},[t._v(t._s(t.task.choose_driver_end_time))])],1),t._v(" "),a("box",{attrs:{title:"任务描述"}},[a("detail",{attrs:{title:"货物类型"}},[t._v(t._s(t.task.goods_remark))]),t._v(" "),a("detail",{attrs:{title:"货物总体积"}},[t._v(t._s(t._f("formatNumber")(t.task.goods_volume))+"立方米")]),t._v(" "),a("detail",{attrs:{title:"货物件数"}},[t._v(t._s(t._f("formatNumber")(t.task.goods_num))+"件")]),t._v(" "),a("detail",{attrs:{title:"货物总重量"}},[t._v(t._s(t._f("formatNumber")(t.task.goods_weight))+"吨")]),t._v(" "),a("detail",{attrs:{title:"是否回单"}},[t._v(t._s(1===t.task.back_bill?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"预计每趟价格"}},[t._v(t._s(t._f("formatNumber")(t.task.unit_price))+"元")]),t._v(" "),a("detail",{attrs:{title:"报价说明"}},[t._v(t._s(t.task.price_remark))])],1),t._v(" "),a("box",{attrs:{title:"搬运说明"}},[a("detail",{attrs:{title:"货物类型"}},[t._v(t._s(t._f("formatCarry")(t.task.carry_type)))]),t._v(" "),a("detail",{attrs:{title:"自带小工"}},[t._v(t._s(1===t.task.extra.carry.is_worker?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"帮忙装货"}},[t._v(t._s(1===t.task.extra.carry.is_loading?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"帮忙卸货"}},[t._v(t._s(1===t.task.extra.carry.is_unloading?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"搬运说明"}},[t._v(t._s(0===t.task.carry_type?"无需搬运":t.task.extra.carry.textarea))])],1),t._v(" "),a("box",{attrs:{title:"上岗要求"}},[a("detail",{attrs:{title:"需要拆后座"}},[t._v(t._s(1===t.task.extra.other.is_remove_seat?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"需要小推车"}},[t._v(t._s(1===t.task.extra.other.is_trolley?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"需要带尾板"}},[t._v(t._s(1===t.task.extra.other.is_tail_plate?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"需要配备双灭火器"}},[t._v(t._s(1===t.task.extra.other.is_extinguisher?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"需要配备明锁/暗锁"}},[t._v(t._s(1===t.task.extra.other.is_lock?"是":"否"))]),t._v(" "),a("detail",{attrs:{title:"其他上岗要求"}},[t._v(t._s(t.task.extra.other.other_require))])],1),t._v(" "),a("box",{attrs:{title:"其他说明"}},[a("detail",{attrs:{title:"任务补充说明",span:25}},[t._v(t._s(t._f("valueOfSingle")(t.task.extra.supply)))]),t._v(" "),a("detail",{attrs:{title:"配送经验要求",span:25}},[t._v(t._s(t._f("valueOfSingle")(t.task.extra.dispatching)))]),t._v(" "),a("detail",{attrs:{title:"司机福利/补贴/奖励",span:25}},[t._v(t._s(t._f("valueOfSingle")(t.task.extra.welfare)))])],1)],1)},staticRenderFns:[]}},weqv:function(t,e,a){var n=a("zlpd");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("84f30f12",n,!0,{})},xi7R:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=a("nf43"),i=(n=r)&&n.__esModule?n:{default:n};e.default={mixins:[i.default],methods:{unObserver:function(t){return JSON.parse(JSON.stringify(t))},updateSubmit:function(t,e){var a=this;this.$refs[t].validate(function(n){n?(a.loading=!0,a.$http.put(e,a.unObserver(a._data[t])).then(function(t){a.$Message.success("Success!"),a.change(!1)}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1})):a.$Message.error("验证不通过!")})},createSubmit:function(t,e){var a=this;this.$refs[t].validate(function(n){n&&(a.loading=!0,a.$http.post(e,a._data[t]).then(function(t){a.$Message.success("Success!"),a.change(!1)}).catch(function(t){a.formatErrors(t)}).finally(function(){a.loading=!1}))})}}}},"zN/v":function(t,e){t.exports={render:function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("component-modal",{attrs:{title:"查看出车单",width:1e3,loading:e.loading}},[n("div",{staticClass:"order-step"},[0===e.orders.status||1===e.orders.status||2===e.orders.status||3===e.orders.status?n("Steps",{attrs:{current:e.orders.status}},[n("Step",{attrs:{title:"未签到",content:""}}),e._v(" "),n("Step",{attrs:{title:"已签到",content:""}}),e._v(" "),n("Step",{attrs:{title:"配送中",content:""}}),e._v(" "),n("Step",{attrs:{title:"配送完成",content:""}})],1):e._e()],1),e._v(" "),n("box",{attrs:{title:"任务信息"}},[n("detail",{attrs:{title:"任务编号"}},[e._v(e._s(e.orders.task_id))]),e._v(" "),n("detail",{attrs:{title:"任务类型"}},[e.orders.task&&1===e.orders.task.type?n("span",[e._v("主任务")]):n("span",[e._v("临时任务")])]),e._v(" "),n("detail",{attrs:{title:"线路名称"}},[e._v(e._s(e.orders.name))]),e._v(" "),n("detail",{attrs:{title:"配送信息"}},[e._v(e._s(e.orders.point_count)+" 个 (非固定配送点)")]),e._v(" "),n("detail",{attrs:{title:"区域描述",span:16}},[e._v(e._s(e.orders.delivery_point_remark))])],1),e._v(" "),n("box",{attrs:{title:"仓库信息"}},[n("detail",{attrs:{title:"仓库名称"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.title:""))]),e._v(" "),n("detail",{attrs:{title:"联系人"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.contacts:""))]),e._v(" "),n("detail",{attrs:{title:"联系电话"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.contacts_phone:""))]),e._v(" "),n("detail",{attrs:{title:"到仓时间"}},[e._v(e._s(e.orders.arrival_warehouse_time))]),e._v(" "),n("detail",{attrs:{title:"仓库地址"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.address:""))]),e._v(" "),n("detail",{attrs:{title:"仓库备注"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.remark:""))])],1),e._v(" "),n("box",{attrs:{title:"司机信息"}},[n("detail",{attrs:{title:"司机姓名"}},[e._v(e._s(e.orders.driver?e.orders.driver.name:""))]),e._v(" "),n("detail",{attrs:{title:"司机类型"}},[e.orders.driver&&0===e.orders.driver.driver_type?n("span",[e._v("自营司机")]):e._e(),e._v(" "),e.orders.driver&&1===e.orders.driver.driver_type?n("span",[e._v("合作司机")]):e._e(),e._v(" "),e.orders.driver&&2===e.orders.driver.driver_type?n("span",[e._v("社会司机")]):e._e()]),e._v(" "),n("detail",{attrs:{title:"联系电话"}},[e._v(e._s(e.orders.driver?e.orders.driver.phone:""))]),e._v(" "),n("detail",{attrs:{title:"车牌号码"}},[e._v(e._s(e.orders.driver?e.orders.driver.car_number:""))]),e._v(" "),n("detail",{attrs:{title:"司机头像"}},[n("img",{attrs:{src:e.orders.driver?e.orders.driver.head_img_url:"",height:"30",width:"30"}})])],1),e._v(" "),n("box",{attrs:{title:"途径点"}},[n("i-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.showComponent("Point",e.orders)}}},[e._v("添加")]),e._v(" "),n("i-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.notify(e.orders)}}},[e._v("通知")]),e._v(" "),n("Table",{staticStyle:{"margin-top":"10px"},attrs:{columns:e.columns,data:e.orders.delivery}})],1),e._v(" "),n(e.component.current,{tag:"components",attrs:{data:e.component.data},on:{"on-change":e.hideComponent,"on-ok":function(){t.getView()}}})],1)},staticRenderFns:[]}},zN6J:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{staticStyle:{position:"relative"},attrs:{title:t.title,value:!0,transfer:!1,"mask-closable":!1,width:t.width},on:{"on-visible-change":t.change}},[t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2)],1)},staticRenderFns:[]}},zlpd:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])}});