webpackJsonp([1],{"+mJx":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(r("6NqX")),n=s(r("HtL/")),o=r("2rVD"),i=s(r("xi7R"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"cancel",components:{ComponentModal:n.default},mixins:[a.default,i.default],data:function(){return{formUpdate:{remark:""},rulesUpdate:(0,o.Validator)(this)}}}},"+v+A":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"detail",props:{title:{type:String,default:""},span:{type:Number,default:8},offset:{type:Number,default:0},titleWidth:{type:Number,default:80}}}},"/3ai":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(r("6NqX")),n=s(r("HtL/")),o=r("0QZ+"),i=s(r("xi7R"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"agent",components:{ComponentModal:n.default},mixins:[a.default,i.default],data:function(){return{formUpdate:{remark:""},rulesUpdate:(0,o.Validator)(this)}}}},"03cY":function(t,e,r){var a=r("VU/8")(r("vXEz"),r("R9wA"),!1,function(t){r("1SGG")},"data-v-a8406f5a",null);t.exports=a.exports},"0IRZ":function(t,e,r){var a=r("p/y2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("2923ef86",a,!0,{})},"0QZ+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{remark:[{required:!0,trigger:"blur",message:"代签到备注必须填写"}]}}},"0eeJ":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._t("default"),t._v(" "),r("div",{staticClass:"box-flex-list"},[r("Card",{attrs:{"dis-hover":""}},[r("p",{attrs:{slot:"title"},slot:"title"},[t._t("title",[r("span",[t._v("列表")])]),t._v(" "),t._t("button")],2),t._v(" "),r("my-table",{ref:"table",attrs:{columns:t.columns,data:t.value.data,size:"small","row-class-name":t.rowClassName,loading:t.loading}}),t._v(" "),r("Page",{attrs:{total:t.value.page.total,size:"small",current:t.value.page.current,"page-size":t.value.page.page_size,"show-total":""},on:{"on-change":t.change}})],1)],1)],2)},staticRenderFns:[]}},"1SGG":function(t,e,r){var a=r("fCt6");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("356e21ac",a,!0,{})},"1XX2":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"my-table",props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{leftCol:[{title:"序号",render:function(t,e){var r=e.index;return t("span",null,[++r])},width:75}],rightCol:[]}},computed:{tableCol:function(){return this.leftCol.concat(this.columns,this.rightCol)}}}},"22zK":function(t,e,r){var a=r("U51L");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("fbc9ae42",a,!0,{})},"2Ehy":function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},"2UkU":function(t,e,r){var a=r("VU/8")(r("FdPE"),r("XCHH"),!1,function(t){r("weqv")},"data-v-045875e3",null);t.exports=a.exports},"2rVD":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{remark:[{required:!0,trigger:"blur",message:"取消备注必须填写"}]}}},"49hj":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=g(r("dSCJ")),n=g(r("h7KM")),o=g(r("NzrU")),i=g(r("JtOP")),s=g(r("nDjJ")),l=g(r("j8IA")),c=g(r("Vqnn")),u=g(r("KrrG")),d=g(r("T3Fp")),f=g(r("WlZl")),p=g(r("WptG")),m=g(r("wJ7C")),h=g(r("03cY")),v=g(r("WRR+")),_=r("9Xvl"),b=g(r("PJh5"));function g(t){return t&&t.__esModule?t:{default:t}}e.default={name:"index",components:{TaskOrderStatus:v.default,Remote:u.default,CheckboxButton:l.default,CheckboxButtonGroup:s.default,TrueOrFalse:i.default,CDatePicker:o.default,MyLists:a.default,mView:c.default,Cancel:d.default,Undo:f.default,Agent:m.default,Finish:p.default,Change:h.default},mixins:[n.default],data:function(){var t=this;return{searchForm:{status:[]},columns:[{title:"商户简称",render:function(t,e){return t("span",null,[e.row.merchant.short_name])}},{title:"出车单号",render:function(e,r){var a=r.row;return e("a",{on:{click:function(){t.showComponent("mView",a)}}},[a.order_no])}},{title:"到仓时间",key:"arrival_warehouse_time",width:150},{title:"任务编号",render:function(t,e){return t("span",null,[e.row.task_id])}},{title:"线路名称",key:"name"},{title:"仓名称",render:function(t,e){return t("span",null,[e.row.warehouse.title])}},{title:"状态",render:function(t,e){var r=e.row;return t(v.default,{attrs:{status:r.status}},[])}},{title:"司机姓名",render:function(t,e){var r=e.row;return t("span",null,[r.driver?r.driver.name:""])}},{title:"所属队长",render:function(t,e){var r=e.row;return t("span",null,[r.driver&&r.driver.supervisor?r.driver.supervisor.name:""])}},{title:"司机手机号",render:function(t,e){var r=e.row;return t("span",null,[r.driver?r.driver.phone:""])}},{title:"车型",render:function(t,e){var r=e.row;return t("span",null,[r.car_type?r.car_type.name:""])}},{title:"操作",render:function(e,r){var a=r.row;return e("dropdown",{attrs:{trigger:"click"},on:{"on-click":function(e){return t.listTrigger(e,a)}},directives:[{name:"show",value:!(0,_.oneOf)(a.status,[4,5,6])}]},[e("i-button",{attrs:{size:"small"}},["操作"]),e("dropdown-menu",{slot:"list"},[e("dropdown-item",{attrs:{name:"设置不配送"},directives:[{name:"show",value:!(0,_.oneOf)(a.status,[3,4,5,6])}]},["设置不配送"]),e("dropdown-item",{attrs:{name:"运营取消"},directives:[{name:"show",value:!(0,_.oneOf)(a.status,[4,5,6])}]},["运营取消"]),e("dropdown-item",{attrs:{name:"代签到"},directives:[{name:"show",value:!(0,_.oneOf)(a.status,[1,2,3,4,5,6])}]},["代签到"]),e("dropdown-item",{attrs:{name:"一键完成"},directives:[{name:"show",value:!(0,_.oneOf)(a.status,[3,4,5,6])}]},["一键完成"]),e("dropdown-item",{attrs:{name:"到仓时间或价格变更"},directives:[{name:"show",value:t.isChange(a)}]},["到仓时间或价格变更"])])])}}]}},methods:{search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$http.get("order",{params:this.request(e)}).then(function(e){t.assignmentData(e.data.data)}).catch(function(){t.assignmentData([])}).finally(function(){t.loading=!1})},isChange:function(t){return(0,b.default)(t.arrival_warehouse_time).isBetween((0,b.default)().subtract("day",2),(0,b.default)().add("day",1),"day")&&!(0,_.oneOf)(t.status,[4,5,6])},listTrigger:function(t,e){switch(t){case"设置不配送":this.showComponent("Undo",e);break;case"运营取消":this.showComponent("Cancel",e);break;case"代签到":this.showComponent("Agent",e);break;case"一键完成":this.showComponent("Finish",e);break;case"到仓时间或价格变更":this.showComponent("Change",e)}},download:function(){this.$http.download("order/export",this.request(),"出车单列表.xls")}},watch:{"searchForm.arrival_warehouse_time":function(t){t[0]&&t[1]||delete this.searchForm.arrival_warehouse_time}}}},"4BvZ":function(t,e,r){var a=r("KrCn");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("394a4194",a,!0,{})},"4T4/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("component-modal",{attrs:{title:"一键完成",width:350,loading:t.loading}},[r("Form",{ref:"formUpdate",attrs:{model:t.formUpdate,"label-width":50,rules:t.rulesUpdate}},[r("FormItem",{attrs:{label:"备注",prop:"remark"}},[r("Input",{attrs:{type:"textarea"},model:{value:t.formUpdate.remark,callback:function(e){t.$set(t.formUpdate,"remark",e)},expression:"formUpdate.remark"}})],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateSubmit("formUpdate","order/finish/"+t.data.id)}}},[t._v("提交")])],1)],1)},staticRenderFns:[]}},"5EYM":function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".ivu-table .table-info-row td[data-v-46901fae]{background-color:#2db7f5;color:#fff}",""])},"6NqX":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{data:{}},data:function(){return{loading:!1}},methods:{change:function(t){!1===t&&this.$emit("on-change")}}}},"7d5b":function(t,e,r){var a=r("2Ehy");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("896051ea",a,!0,{})},"8Odt":function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},"99pF":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"true-or-false",props:{value:[String,Number],trueValue:{type:String,default:"是"},falseValue:{type:String,default:"否"}},data:function(){return{model:this.value,trueValueModel:this.trueValue,falseValueModel:this.falseValue}},methods:{setValue:function(t){this.$emit("input",t)}},watch:{value:function(t){this.model=t},falseValue:function(t){this.falseValueModel=t},trueValue:function(t){this.trueValueModel=t}}}},"9Xvl":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=function(t,e){for(let r=0;r<e.length;r++)if(t===e[r])return!0;return!1},e.camelcaseToHyphen=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.getScrollBarSize=function(t){if(n)return 0;if(t||void 0===o){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const e=document.createElement("div"),r=e.style;r.position="absolute",r.top=0,r.left=0,r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const a=t.offsetWidth;e.style.overflow="scroll";let n=t.offsetWidth;a===n&&(n=e.clientWidth),document.body.removeChild(e),o=a-n}return o},e.getStyle=function(t,e){if(!t||!e)return null;"float"===(r=e,e=r.replace(s,function(t,e,r,a){return a?r.toUpperCase():r}).replace(l,"Moz$1"))&&(e="cssFloat");var r;try{const r=document.defaultView.getComputedStyle(t,"");return t.style[e]||r?r[e]:null}catch(r){return t.style[e]}},r.d(e,"firstUpperCase",function(){return c}),e.warnProp=function(t,e,r,a){r=c(r),a=c(a),console.error(`[iView warn]: Invalid prop: type check failed for prop ${e}. Expected ${r}, got ${a}. (found in component: ${t})`)},r.d(e,"deepCopy",function(){return u}),e.scrollTop=function(t,e=0,r,a=500,n){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)});const o=Math.abs(e-r),i=Math.ceil(o/a*50);!function e(r,a,o){if(r===a)return void(n&&n());let i=r+o>a?a:r+o;r>a&&(i=r-o<a?a:r-o);t===window?window.scrollTo(i,i):t.scrollTop=i;window.requestAnimationFrame(()=>e(i,a,o))}(e,r,i)},r.d(e,"findComponentUpward",function(){return d}),e.findComponentDownward=function t(e,r){const a=e.$children;let n=null;if(a.length)for(const e of a){const a=e.$options.name;if(a===r){n=e;break}if(n=t(e,r))break}return n},e.findComponentsDownward=function t(e,r){return e.$children.reduce((e,a)=>{a.$options.name===r&&e.push(a);const n=t(a,r);return e.concat(n)},[])},e.findComponentsUpward=function t(e,r){let a=[];const n=e.$parent;return n?(n.$options.name===r&&a.push(n),a.concat(t(n,r))):[]},e.findBrothersComponents=function(t,e,r=!0){let a=t.$parent.$children.filter(t=>t.$options.name===e),n=a.findIndex(e=>e._uid===t._uid);r&&a.splice(n,1);return a},e.hasClass=p,e.addClass=function(t,e){if(!t)return;let r=t.className;const a=(e||"").split(" ");for(let e=0,n=a.length;e<n;e++){const n=a[e];n&&(t.classList?t.classList.add(n):p(t,n)||(r+=" "+n))}t.classList||(t.className=r)},e.removeClass=function(t,e){if(!t||!e)return;const r=e.split(" ");let a=" "+t.className+" ";for(let e=0,n=r.length;e<n;e++){const n=r[e];n&&(t.classList?t.classList.remove(n):p(t,n)&&(a=a.replace(" "+n+" "," ")))}t.classList||(t.className=f(a))},e.setMatchMedia=function(){if("undefined"!=typeof window){const t=t=>({media:t,matches:!1,on(){},off(){}});window.matchMedia=window.matchMedia||t}};var a=r("I3G/");const n=r.n(a).a.prototype.$isServer;let o;const i=!n&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1);e.MutationObserver=i;const s=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/;function c(t){return t.toString()[0].toUpperCase()+t.toString().slice(1)}function u(t){const e=(r=t,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(r)]);var r;let a;if("array"===e)a=[];else{if("object"!==e)return t;a={}}if("array"===e)for(let e=0;e<t.length;e++)a.push(u(t[e]));else if("object"===e)for(let e in t)a[e]=u(t[e]);return a}function d(t,e,r){r="string"==typeof e?[e]:e;let a=t.$parent,n=a.$options.name;for(;a&&(!n||r.indexOf(n)<0);)(a=a.$parent)&&(n=a.$options.name);return a}const f=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function p(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}e.dimensionMap={xs:"480px",sm:"768px",md:"992px",lg:"1200px",xl:"1600px"};e.sharpMatcherRegx=/#([^#]+)$/},An7n:function(t,e,r){(function(e){var r;(function(){"use strict";"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e||Function("return this")()})(),r=function(){return function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t};e.install=function(t){t.directive("click-outside",f)};var o=Object.create(null),i=Object.create(null),s=[o,i],l=function(t,e,r){var a=r.target,n=function(e){var n=e.el;if(n!==a&&!n.contains(a)){var o=e.binding;o.modifiers.stop&&r.stopPropagation(),o.modifiers.prevent&&r.preventDefault(),o.value.call(t,r)}};Object.keys(e).forEach(function(t){return e[t].forEach(n)})},c=function(t){l(this,o,t)},u=function(t){l(this,i,t)},d=function(t){return t?c:u},f=e.directive=Object.defineProperties({},{$_captureInstances:{value:o},$_nonCaptureInstances:{value:i},$_onCaptureEvent:{value:c},$_onNonCaptureEvent:{value:u},bind:{value:function(t,e){if("function"!=typeof e.value)throw new TypeError("Binding value must be a function.");var r=e.arg||"click",s=n({},e,{arg:r,modifiers:n({capture:!1,prevent:!1,stop:!1},e.modifiers)}),l=s.modifiers.capture,c=l?o:i;Array.isArray(c[r])||(c[r]=[]),1===c[r].push({el:t,binding:s})&&"object"===("undefined"==typeof document?"undefined":a(document))&&document&&document.addEventListener(r,d(l),l)}},unbind:{value:function(t){var e=function(e){return e.el!==t};s.forEach(function(t){var r=Object.keys(t);if(r.length){var n=t===o;r.forEach(function(r){var o=t[r].filter(e);o.length?t[r]=o:("object"===("undefined"==typeof document?"undefined":a(document))&&document&&document.removeEventListener(r,d(n),n),delete t[r])})}})}}})}])},t.exports=r()}).call(e,r("DuR2"))},Aysg:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("Table",{ref:"table",attrs:{columns:this.tableCol,data:this.data,size:"small",loading:this.loading}})},staticRenderFns:[]}},Ayxf:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("component-modal",{attrs:{title:"运营取消",width:350,loading:t.loading}},[r("Form",{ref:"formUpdate",attrs:{model:t.formUpdate,"label-width":50,rules:t.rulesUpdate}},[r("FormItem",{attrs:{label:"备注",prop:"remark"}},[r("Input",{attrs:{type:"textarea"},model:{value:t.formUpdate.remark,callback:function(e){t.$set(t.formUpdate,"remark",e)},expression:"formUpdate.remark"}})],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateSubmit("formUpdate","order/cancel/"+t.data.id)}}},[t._v("提交")])],1)],1)},staticRenderFns:[]}},E4WB:function(t,e,r){var a=r("MdH7");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("57c01f3c",a,!0,{})},EtaK:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r("pEmh"),o=(a=n)&&a.__esModule?a:{default:a};e.default={name:"checkbox-button-group",mixins:[o.default],props:{value:{type:Array,default:function(){return[]}}},data:function(){return{defaultCheck:this.value,currentCheck:[]}},methods:{values:function(){this.currentCheck=this.$children.filter(function(t){return t.check}).map(function(t){return t.value})}},watch:{currentCheck:function(t){this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-blur",t)},value:function(t){this.defaultCheck=t,this.$children.forEach(function(t){t.change()})}}}},FR7p:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("nf43")),n=o(r("BtGT"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={name:"remote",mixins:[a.default,n.default],props:{remoteUrl:{type:String,default:"",required:!0},remote:{type:Boolean,default:!0},cache:{type:Boolean,default:!0},ready:{type:Boolean,default:!1},params:{type:Object,default:function(){}},searchKey:{type:String,default:"name"},value:{type:[String,Number]}},data:function(){return{publicValue:"",publicOptions:[],publicParams:{},options:this.defaultOption()}},mounted:function(){this.ready&&this.request()},methods:{setValue:function(t){this.$emit("input",t),this.$emit("on-change",this.options.find(function(e){return e.id===t}))},remoteMethod:function(t){var e=this;this.value!=t&&(this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue})&&this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue}).name===t||this.remote&&(this.publicParams[this.searchKey]=t,this.request()))},request:function(){var t=this;0===this.$store.getters.cache(this.key()).length?this.$store.getters.cacheLock(this.key())?(this.loading=!0,setTimeout(function(){t.refresh(),t.loading=!1},4e3)):this.search():this.refresh()},search:function(){var t=this;this.loading=!0,this.$store.commit("setCacheLock",this.key()),this.$http.get(this.remoteUrl,{params:this.getParams()}).then(function(e){t.cache?t.$store.commit("setCacheData",{key:t.key(),data:e.data.data}):t.publicOptions=e.data.data}).finally(function(){t.refresh(),t.loading=!1})},defaultOption:function(){return this.cache?this.$store.getters.cache(this.key()):this.publicOptions},key:function(){return this.remoteUrl+JSON.stringify(this.getParams())},refresh:function(){this.options=this.cache?this.$store.getters.cache(this.key()):this.publicOptions},getParams:function(){return Object.assign({},this.params,this.publicParams)},unObserver:function(t){return JSON.parse(JSON.stringify(t))}},watch:{params:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.$refs[this.uuid].clearSingleSelect(),this.request())},deep:!0},value:{handler:function(t){this.publicValue=t},immediate:!0}}}},FdPE:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r("/IwO"),o=r("WuDf"),i=(a=o)&&a.__esModule?a:{default:a},s=r("An7n");new n.AMapManager;e.default={name:"place-search-select",directives:{clickOutside:s.directive,TransferDom:i.default},props:["searchOption","value"],data:function(){return{loading:!1,places:[],model:this.value,dropVisible:!1,city:"深圳市",category:[]}},mounted:function(){var t=this;this.loading=!0,this.$nextTick(function(){0===t.$store.getters.cache("category").length?t.$store.getters.cacheLock("category")?setTimeout(function(){t.refresh()},4e3):(t.$store.commit("setCacheLock","category"),t.$http.get("category/checkbox").then(function(e){t.$store.commit("setCacheData",{key:"category",data:e.data.data}),t.refresh()})):t.refresh()})},computed:{_placeSearch:function(){return new AMap.PlaceSearch(this.searchOption||{city:this.city,citylimit:!0,extensions:"all"})}},methods:{initSearch:function(t){this.setDefaultValue(),this.initFocus(t)},initFocus:function(t){var e=this;this.model=t.target.value,this._placeSearch.search(t.target.value,function(t,r){r&&r.poiList&&r.poiList.count&&(e.places=r.poiList.pois,e.dropVisible=!0)})},setValue:function(t){this.dropVisible=!1,this.$emit("input",this.places[t].name),this.$emit("pois",this.places[t]),this.$emit("on-change",this.places[t]),this.$emit("city",this.city)},setDefaultValue:function(){this.$emit("input",""),this.$emit("city",""),this.$emit("pois",{})},onClickOutside:function(){this.dropVisible=!1},refresh:function(){this.category=this.$store.getters.cache("category"),this.loading=!1}},watch:{value:function(t){""!==t&&(this.model=t)}}}},FurG:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},GWUp:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"component-modal",props:{title:{type:String,default:"弹窗"},width:{type:Number,default:650},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$parent.$emit("on-change")}}}},Gz8c:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Validator=void 0;var a,n=r("PJh5"),o=(a=n)&&a.__esModule?a:{default:a};e.Validator=function(t){return{remark:[{required:!0,trigger:"blur",message:"备注必须填写"}],arrival_warehouse_time:[{required:!0,trigger:"blur",message:"到仓时间不能为空"},{validator:function(t,e,r){(0,o.default)(e).isBetween((0,o.default)().subtract("days",2),(0,o.default)().add("day",1),"day")?r():r(new Error("到仓时间只能修改为昨天和今天时间"))},trigger:"blur"}],unit_price:[{required:!0,trigger:"blur",type:"number",message:"单价不能为空"}]}}},"HtL/":function(t,e,r){var a=r("VU/8")(r("GWUp"),r("zN6J"),!1,function(t){r("LrlP")},"data-v-67bf1da2",null);t.exports=a.exports},I1hL:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=u(r("HtL/")),n=u(r("6NqX")),o=u(r("OcB2")),i=u(r("RGLJ")),s=u(r("KrrG")),l=u(r("V+PA")),c=u(r("h7KM"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"o-view",components:{Detail:i.default,Box:o.default,ComponentModal:a.default,Remote:s.default,Point:l.default},mixins:[n.default,c.default],mounted:function(){var t=this;this.$nextTick(function(){t.getView()})},data:function(){var t=this;return{orders:{delivery:[]},columns:[{title:"序号",render:function(t,e){return t("span",null,[e.index+1])}},{title:"联系人",key:"contacts"},{title:"联系方式",key:"contact_way"},{title:"交付地址",key:"name"},{title:"实际地址",key:"put_address"},{title:"妥投状态",render:function(t,e){var r=e.row;return t("span",null,[0===r.status?"未操作":1===r.status?"已妥投":"未妥投"])}},{title:"原因",key:"reason"},{title:"签收照片",key:"img_one"},{title:"妥投时间",key:"finish_time"},{title:"操作",render:function(e,r){var a=r.row;return e("button-group",null,[e("poptip",{attrs:{confirm:!0,transfer:!0,title:"确定要删除吗？"},on:{"on-ok":function(){return t.destroyItem(a,"order/point/"+a.id)}}},[e("i-button",{attrs:{size:"small"}},["删除"])])])}}]}},methods:{notify:function(t){var e=this;this.$http.post("order/notify/"+t.id).then(function(t){}).finally(function(){e.$Message.success("已推送通知")})},getView:function(){var t=this;this.loading=!0,this.$http.get("order/"+this.data.id).then(function(e){t.orders=e.data.data}).finally(function(){t.loading=!1})},destroyItem:function(t,e){var r=this;this.loading=!0,this.$http.delete(e).then(function(t){r.getView()}).catch(function(t){r.formatErrors(t)}).finally(function(){r.loading=!1})}}}},JtOP:function(t,e,r){var a=r("VU/8")(r("99pF"),r("Ps3r"),!1,function(t){r("opLm")},"data-v-403dbbd7",null);t.exports=a.exports},KrCn:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},KrrG:function(t,e,r){var a=r("VU/8")(r("FR7p"),r("a/P1"),!1,function(t){r("VXKl")},"data-v-12f16dd7",null);t.exports=a.exports},LpYS:function(t,e,r){var a=r("VU/8")(r("49hj"),r("NfO7"),!1,function(t){r("xYX8")},"data-v-33ec52f4",null);t.exports=a.exports},LrlP:function(t,e,r){var a=r("qkgB");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("4cb8b4f2",a,!0,{})},MWZo:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".remote-select[data-v-12f16dd7]{width:150px}",""])},MdH7:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".box-detail{line-height:26px}.box-form .box-detail{margin-bottom:20px;line-height:33px}.box-detail>.ivu-form-item{margin-bottom:0;display:inline-block}.box-detail .box-detail-title{text-align:right;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}",""])},MrJd:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{remark:[{required:!0,trigger:"blur",message:"设置不配送备注必须填写"}]}}},MsRT:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("DatePicker",{attrs:{type:t.type,format:t.format,options:t.options,placement:"bottom-end",placeholder:"选择时间",readonly:t.readonly,"split-panels":t.panels,transfer:""},on:{"on-change":t.change},model:{value:t.sValue,callback:function(e){t.sValue=e},expression:"sValue"}})},staticRenderFns:[]}},NLD1:function(t,e,r){var a=r("uoRf");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("25926673",a,!0,{})},NfO7:function(t,e){t.exports={render:function(){var t=this,e=this,r=e.$createElement,a=e._self._c||r;return a("my-lists",{attrs:{columns:e.columns,loading:e.loading},on:{change:e.search},model:{value:e.lists.data,callback:function(t){e.$set(e.lists,"data",t)},expression:"lists.data"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("span",[e._v("搜索")])]),e._v(" "),a("Form",{ref:"searchForm",attrs:{model:e.searchForm,inline:"","label-width":60}},[a("FormItem",{attrs:{label:"商户简称"}},[a("remote",{attrs:{"remote-url":"merchants/select","search-key":"title"},model:{value:e.searchForm.merchant_id,callback:function(t){e.$set(e.searchForm,"merchant_id",t)},expression:"searchForm.merchant_id"}})],1),e._v(" "),a("FormItem",{attrs:{label:"出车单号"}},[a("Input",{model:{value:e.searchForm.order_no,callback:function(t){e.$set(e.searchForm,"order_no",t)},expression:"searchForm.order_no"}})],1),e._v(" "),a("FormItem",{attrs:{label:"任务名称"}},[a("remote",{attrs:{"remote-url":"task/select"},model:{value:e.searchForm.task_id,callback:function(t){e.$set(e.searchForm,"task_id",t)},expression:"searchForm.task_id"}})],1),e._v(" "),a("FormItem",{attrs:{label:"仓库名称"}},[a("remote",{attrs:{"remote-url":"warehouse/select"},model:{value:e.searchForm.warehouse_id,callback:function(t){e.$set(e.searchForm,"warehouse_id",t)},expression:"searchForm.warehouse_id"}})],1),e._v(" "),a("FormItem",{attrs:{label:"线路名称"}},[a("Input",{model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"司机姓名"}},[a("remote",{attrs:{"remote-url":"driver/select","search-key":"title"},model:{value:e.searchForm.driver_id,callback:function(t){e.$set(e.searchForm,"driver_id",t)},expression:"searchForm.driver_id"}})],1),e._v(" "),a("FormItem",{attrs:{label:"异常"}},[a("true-or-false",{model:{value:e.searchForm.exception_count,callback:function(t){e.$set(e.searchForm,"exception_count",t)},expression:"searchForm.exception_count"}})],1),e._v(" "),a("FormItem",{attrs:{label:"代签到"}},[a("true-or-false",{model:{value:e.searchForm.is_agent,callback:function(t){e.$set(e.searchForm,"is_agent",t)},expression:"searchForm.is_agent"}})],1),e._v(" "),a("FormItem",{attrs:{label:"一键完成"}},[a("true-or-false",{model:{value:e.searchForm.is_one_step_finish,callback:function(t){e.$set(e.searchForm,"is_one_step_finish",t)},expression:"searchForm.is_one_step_finish"}})],1),e._v(" "),a("FormItem",{attrs:{label:"改派司机"}},[a("true-or-false",{model:{value:e.searchForm.is_reassigned,callback:function(t){e.$set(e.searchForm,"is_reassigned",t)},expression:"searchForm.is_reassigned"}})],1),e._v(" "),a("FormItem",{attrs:{label:"到仓时间"}},[a("c-date-picker",{staticStyle:{width:"280px"},attrs:{type:"datetimerange",customize:!0},model:{value:e.searchForm.arrival_warehouse_time,callback:function(t){e.$set(e.searchForm,"arrival_warehouse_time",t)},expression:"searchForm.arrival_warehouse_time"}})],1),e._v(" "),a("Divider"),e._v(" "),a("FormItem",{attrs:{label:"出车单状态","label-width":80}},[a("div",{staticClass:"checkbox-button-all",class:{"checkbox-button-all-checked":!e.searchForm.status.length},on:{click:function(){t.searchForm.status=[]}}},[e._v("全部\n                ")]),e._v(" "),a("checkbox-button-group",{model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("checkbox-button",{attrs:{value:"0"}},[e._v("未签到")]),e._v(" "),a("checkbox-button",{attrs:{value:"1"}},[e._v("已签到")]),e._v(" "),a("checkbox-button",{attrs:{value:"2"}},[e._v("配送中")]),e._v(" "),a("checkbox-button",{attrs:{value:"3"}},[e._v("配送完成")]),e._v(" "),a("checkbox-button",{attrs:{value:"4"}},[e._v("设置不配送")]),e._v(" "),a("checkbox-button",{attrs:{value:"5"}},[e._v("无责任解约")]),e._v(" "),a("checkbox-button",{attrs:{value:"6"}},[e._v("运营取消")])],1)],1),e._v(" "),a("FormItem",{attrs:{"label-width":2}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.search(1)}}},[e._v("搜索")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.download()}}},[e._v("导出")])],1)],1)],1),e._v(" "),a(e.component.current,{tag:"components",attrs:{data:e.component.data},on:{"on-change":e.hideComponent}})],1)},staticRenderFns:[]}},NzrU:function(t,e,r){var a=r("VU/8")(r("keSp"),r("MsRT"),!1,function(t){r("Pojc")},"data-v-15632f10",null);t.exports=a.exports},O9cw:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(r("HtL/")),n=s(r("6NqX")),o=r("MrJd"),i=s(r("xi7R"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"undo",components:{ComponentModal:a.default},mixins:[n.default,i.default],data:function(){return{formUpdate:{remark:""},rulesUpdate:(0,o.Validator)(this)}}}},OcB2:function(t,e,r){var a=r("VU/8")(r("s7MV"),r("sF/1"),!1,function(t){r("YuGU")},"data-v-be6cef20",null);t.exports=a.exports},PmAA:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"checkbox-button-group"},[this._t("default")],2)},staticRenderFns:[]}},Pojc:function(t,e,r){var a=r("8Odt");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("354e0532",a,!0,{})},Ps3r:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Select",{attrs:{clearable:""},on:{"on-change":t.setValue},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[r("Option",{attrs:{value:1}},[t._v(t._s(t.trueValueModel))]),t._v(" "),r("Option",{attrs:{value:0}},[t._v(t._s(t.falseValueModel))])],1)},staticRenderFns:[]}},QDgk:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("component-modal",{attrs:{title:"设置不配送",width:450,loading:t.loading}},[r("Alert",{attrs:{"show-icon":"",closable:""}},[t._v("设置之后，司机在 2018-08-24 将不会配送!")]),t._v(" "),r("Alert",{attrs:{"show-icon":"",closable:""}},[t._v("如果司机在您设置后，报价其他该时间段的任务并被选中，您将不能再设置配送!")]),t._v(" "),r("Form",{ref:"formUpdate",attrs:{model:t.formUpdate,"label-width":50,rules:t.rulesUpdate}},[r("FormItem",{attrs:{label:"备注",prop:"remark"}},[r("Input",{attrs:{type:"textarea"},model:{value:t.formUpdate.remark,callback:function(e){t.$set(t.formUpdate,"remark",e)},expression:"formUpdate.remark"}})],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateSubmit("formUpdate","order/undo/"+t.data.id)}}},[t._v("提交\n        ")])],1)],1)},staticRenderFns:[]}},QE7N:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".amap-page-container{height:400px;position:relative}.long-lat-text{background-color:#fff;border:1px solid silver;padding:2px;position:absolute;top:10px;right:10px;border-radius:6px}",""])},QK5q:function(t,e,r){var a=r("QE7N");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("59d18426",a,!0,{})},R9wA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("component-modal",{attrs:{title:"更改到仓时间和价格",width:450,loading:t.loading}},[r("Form",{ref:"formUpdate",attrs:{model:t.formUpdate,"label-width":80,rules:t.rulesUpdate}},[r("FormItem",{attrs:{label:"到仓时间",prop:"arrival_warehouse_time"}},[r("c-date-picker",{attrs:{options:t.options,type:"datetime"},model:{value:t.formUpdate.arrival_warehouse_time,callback:function(e){t.$set(t.formUpdate,"arrival_warehouse_time",e)},expression:"formUpdate.arrival_warehouse_time"}})],1),t._v(" "),r("FormItem",{attrs:{label:"单价",prop:"unit_price"}},[r("InputNumber",{attrs:{step:.01,precision:2},model:{value:t.formUpdate.unit_price,callback:function(e){t.$set(t.formUpdate,"unit_price",e)},expression:"formUpdate.unit_price"}})],1),t._v(" "),r("FormItem",{attrs:{label:"备注",prop:"remark"}},[r("Input",{attrs:{type:"textarea"},model:{value:t.formUpdate.remark,callback:function(e){t.$set(t.formUpdate,"remark",e)},expression:"formUpdate.remark"}})],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateSubmit("formUpdate","order/change/"+t.data.id)}}},[t._v("提交\n        ")])],1)],1)},staticRenderFns:[]}},RGLJ:function(t,e,r){var a=r("VU/8")(r("+v+A"),r("mHOb"),!1,function(t){r("E4WB")},null,null);t.exports=a.exports},"RP+b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r("BtGT"),o=(a=n)&&a.__esModule?a:{default:a};e.default={name:"checkbox-button",mixins:[o.default],props:{value:{type:[String,Number],required:!0}},data:function(){return{check:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.change()})},methods:{change:function(){"checkbox-button-group"===this.$parent.$options.name&&(-1!==this.$parent.defaultCheck.indexOf(this.value)?this.check=!0:this.check=!1)}},watch:{check:function(t){"checkbox-button-group"===this.$parent.$options.name&&this.$parent.values()}}}},SgOW:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(r("6NqX")),n=s(r("HtL/")),o=r("aLFi"),i=s(r("xi7R"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"finish",components:{ComponentModal:n.default},mixins:[a.default,i.default],data:function(){return{formUpdate:{remark:""},rulesUpdate:(0,o.Validator)(this)}}}},T3Fp:function(t,e,r){var a=r("VU/8")(r("+mJx"),r("Ayxf"),!1,function(t){r("nW/l")},"data-v-470f046f",null);t.exports=a.exports},TJ9x:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{name:[{required:!0,type:"string",message:"地址必须填写",trigger:"blur"}],contacts:[{required:!0,message:"联系人必须填写",type:"string",trigger:"blur"}],contact_way:[{required:!0,message:"联系方式必须填写",type:"string",trigger:"blur"}]}}},U51L:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".checkbox-button-input[data-v-52aa64b5]{opacity:0;width:0;height:0}.checkbox-button[data-v-52aa64b5]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px;border-left:1px solid #dcdee2;-webkit-box-shadow:none;box-shadow:none}.checkbox-button[data-v-52aa64b5]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.checkbox-button[data-v-52aa64b5]{vertical-align:middle;display:inline-block;height:32px;line-height:30px;margin:0;padding:0 15px;font-size:12px;color:#515a6e;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;cursor:pointer;border:1px solid #dcdee2;border-left:0;background:#fff;position:relative}.checkbox-button-checked[data-v-52aa64b5]{border-color:#2d8cf0;color:#2d8cf0;-webkit-box-shadow:-1px 0 0 0 #2d8cf0;box-shadow:-1px 0 0 0 #2d8cf0}.checkbox-button-checked[data-v-52aa64b5]:first-child{border-color:#2d8cf0;-webkit-box-shadow:none;box-shadow:none}",""])},Uo1L:function(t,e,r){var a=r("VU/8")(r("1XX2"),r("Aysg"),!1,function(t){r("0IRZ")},"data-v-7eccc0f0",null);t.exports=a.exports},"V+PA":function(t,e,r){var a=r("VU/8")(r("hT6H"),r("r7IW"),!1,function(t){r("QK5q"),r("NLD1")},"data-v-1e338f4e",null);t.exports=a.exports},VXKl:function(t,e,r){var a=r("MWZo");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("02b562e3",a,!0,{})},Vqnn:function(t,e,r){var a=r("VU/8")(r("I1hL"),r("zN/v"),!1,function(t){r("q3hg")},"data-v-00981ab6",null);t.exports=a.exports},"WRR+":function(t,e,r){var a=r("VU/8")(r("oW4m"),r("lb0b"),!1,function(t){r("7d5b")},"data-v-246e455e",null);t.exports=a.exports},WlZl:function(t,e,r){var a=r("VU/8")(r("O9cw"),r("QDgk"),!1,function(t){r("i2Ix")},"data-v-1e09eb9d",null);t.exports=a.exports},WptG:function(t,e,r){var a=r("VU/8")(r("SgOW"),r("4T4/"),!1,function(t){r("4BvZ")},"data-v-277798a4",null);t.exports=a.exports},WuDf:function(t,e,r){"use strict";function a(t){return void 0===t&&(t=document.body),!0===t?document.body:t instanceof window.Node?t:document.querySelector(t)}Object.defineProperty(e,"__esModule",{value:!0});const n={inserted(t,{value:e},r){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";const n=t.parentNode;if(!n)return;const o=document.createComment("");let i=!1;!1!==e&&(n.replaceChild(o,t),a(e).appendChild(t),i=!0),t.__transferDomData||(t.__transferDomData={parentNode:n,home:o,target:a(e),hasMovedOut:i})},componentUpdated(t,{value:e}){if(t.dataset&&"true"!==t.dataset.transfer)return!1;const r=t.__transferDomData;if(!r)return;const n=r.parentNode,o=r.home,i=r.hasMovedOut;!i&&e?(n.replaceChild(o,t),a(e).appendChild(t),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!0,target:a(e)})):i&&!1===e?(n.replaceChild(t,o),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!1,target:a(e)})):e&&a(e).appendChild(t)},unbind(t){if(t.dataset&&"true"!==t.dataset.transfer)return!1;t.className=t.className.replace("v-transfer-dom",""),t.__transferDomData&&(!0===t.__transferDomData.hasMovedOut&&t.__transferDomData.parentNode&&t.__transferDomData.parentNode.appendChild(t),t.__transferDomData=null)}};e.default=n},XCHH:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside.capture",value:t.onClickOutside,expression:"onClickOutside",modifiers:{capture:!0}},{name:"click-outside",rawName:"v-click-outside:mousedown.capture",value:t.onClickOutside,expression:"onClickOutside",arg:"mousedown",modifiers:{capture:!0}}],staticStyle:{"vertical-align":"top"},attrs:{visible:t.dropVisible,trigger:"custom"},on:{"on-click":t.setValue}},[r("Input",{attrs:{value:t.model,placeholder:"Enter something..."},on:{"on-change":t.initSearch,"on-focus":t.initFocus}},[r("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",loading:t.loading},on:{"on-change":t.setDefaultValue},slot:"prepend",model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.category,function(e,a){return r("Option",{key:a,attrs:{value:e.name}},[t._v(t._s(e.name))])}))],1),t._v(" "),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.places,function(e,a){return r("DropdownItem",{key:a,attrs:{name:a}},[t._v(t._s(e.name))])}))],1)},staticRenderFns:[]}},YuGU:function(t,e,r){var a=r("kKdy");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("61a606ac",a,!0,{})},Zx7m:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".checkbox-button-all[data-v-33ec52f4]{vertical-align:middle;display:inline-block;height:32px;line-height:30px;margin:0;padding:0 15px;font-size:12px;color:#515a6e;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;cursor:pointer;border:1px solid #dcdee2;background:#fff;position:relative;border-radius:4px}.checkbox-button-all-checked[data-v-33ec52f4]{border-color:#2d8cf0;color:#2d8cf0}",""])},"a/P1":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("i-select",{ref:t.uuid,staticClass:"remote-select",attrs:{filterable:t.remote,remote:t.remote,"remote-method":t.remoteMethod,clearable:"",loading:t.loading},on:{"on-change":t.setValue},model:{value:t.publicValue,callback:function(e){t.publicValue=e},expression:"publicValue"}},t._l(t.options,function(e,a){return r("i-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))},staticRenderFns:[]}},a7tE:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".order-step[data-v-00981ab6]{margin-bottom:10px}",""])},aLFi:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Validator=function(t){return{remark:[{required:!0,trigger:"blur",message:"取消备注必须填写"}]}}},dSCJ:function(t,e,r){var a=r("VU/8")(r("tCFX"),r("0eeJ"),!1,function(t){r("qN8B")},"data-v-46901fae",null);t.exports=a.exports},drbh:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},dyFJ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("component-modal",{attrs:{title:"代签到",width:350,loading:t.loading}},[r("Form",{ref:"formUpdate",attrs:{model:t.formUpdate,"label-width":50,rules:t.rulesUpdate}},[r("FormItem",{attrs:{label:"备注",prop:"remark"}},[r("Input",{attrs:{type:"textarea"},model:{value:t.formUpdate.remark,callback:function(e){t.$set(t.formUpdate,"remark",e)},expression:"formUpdate.remark"}})],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateSubmit("formUpdate","order/agent/"+t.data.id)}}},[t._v("提交")])],1)],1)},staticRenderFns:[]}},fCt6:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},h7KM:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r("nf43"),o=(a=n)&&a.__esModule?a:{default:a};e.default={mixins:[o.default],data:function(){return{searchForm:{},lists:{data:{data:[],page:{total:0,current:1,page_size:20}}},component:{current:"",data:{}}}},mounted:function(){this.search()},methods:{search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},assignmentData:function(t){this.lists.data.data=t.data,this.lists.data.page.total=t.total,this.lists.data.page.current=t.current_page,this.lists.data.page.page_size=t.per_page},showComponent:function(t,e){this.component.current=t,this.component.data=e},hideComponent:function(){this.component.current="",this.component.data={},this.search()},destroyItem:function(t,e){var r=this;this.loading=!0,this.$http.delete(e).then(function(t){r.search()}).catch(function(t){r.formatErrors(t)}).finally(function(){r.loading=!1})},request:function(t){var e=JSON.parse(JSON.stringify(this.searchForm));return e.page=t,e}}}},hT6H:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(r("6NqX")),n=d(r("HtL/")),o=d(r("OcB2")),i=r("TJ9x"),s=d(r("xi7R")),l=d(r("KrrG")),c=d(r("h7KM")),u=d(r("2UkU"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Create",components:{Remote:l.default,ComponentModal:n.default,Box:o.default,Validator:i.Validator,PlaceSearchSelect:u.default},mixins:[c.default,a.default,s.default],data:function(){return{formCreate:{contacts:"",contact_way:"",lng:0,lat:0},ruleCreate:(0,i.Validator)(this)}},computed:{lng:function(){return this.formCreate.lng},lat:function(){return this.formCreate.lat}},methods:{pois:function(t){this.formCreate.lat=t.location?t.location.lat:0,this.formCreate.lng=t.location?t.location.lng:0},createSubmit:function(t,e){var r=this;this.$refs[t].validate(function(a){a&&(r.loading=!0,r.$http.post(e,r._data[t]).then(function(t){r.$Message.success("Success!"),r.change(!1),r.$emit("on-ok")}).catch(function(t){r.formatErrors(t)}).finally(function(){r.loading=!1}))})}}}},i2Ix:function(t,e,r){var a=r("i3Xi");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("5ec02882",a,!0,{})},i3Xi:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},iV7y:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"checkbox-button",class:{"checkbox-button-checked":t.check},attrs:{for:t.uuid}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],staticClass:"checkbox-button-input",attrs:{type:"checkbox",id:t.uuid},domProps:{value:t.value,checked:Array.isArray(t.check)?t._i(t.check,t.value)>-1:t.check},on:{change:function(e){var r=t.check,a=e.target,n=!!a.checked;if(Array.isArray(r)){var o=t.value,i=t._i(r,o);a.checked?i<0&&(t.check=r.concat([o])):i>-1&&(t.check=r.slice(0,i).concat(r.slice(i+1)))}else t.check=n}}}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},j8IA:function(t,e,r){var a=r("VU/8")(r("RP+b"),r("iV7y"),!1,function(t){r("22zK")},"data-v-52aa64b5",null);t.exports=a.exports},kKdy:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".box[data-v-be6cef20]{margin-bottom:10px;border:1px solid #dddee1;border-radius:5px}.box[data-v-be6cef20]:last-child{margin-bottom:0}.box-header[data-v-be6cef20]{padding:8px 48px 8px 16px;color:#495060;font-size:12px;line-height:16px;border-bottom:1px solid #dddee1}.box-detail[data-v-be6cef20]{padding:10px}",""])},keSp:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("9Xvl"),n=i(r("pEmh")),o=i(r("PJh5"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"c-date-picker",mixins:[n.default],props:{value:{type:[Date,String,Array]},type:{validator:function(t){return(0,a.oneOf)(t,["year","month","date","daterange","datetime","datetimerange"])},default:"date"},format:String,options:Object,readonly:{type:Boolean,default:!1},panels:{type:Boolean,default:!1},customize:{type:Boolean,default:!1}},data:function(){return{sValue:this.value}},methods:{change:function(t,e){this.$emit("on-change",t),this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-blur",t)}},watch:{value:function(t){this.customize&&void 0!==t&&"00:00:00"===(0,o.default)(t[1]).format("HH:mm:ss")&&(t[1]=(0,o.default)(t[1]).format("YYYY-MM-DD")+" 23:59:59"),this.sValue=t}}}},lb0b:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return 0===t.status?r("Tag",{attrs:{color:"green"}},[t._v("\n    未签到\n")]):1===t.status?r("Tag",{attrs:{color:"cyan"}},[t._v("\n    已签到\n")]):2===t.status?r("Tag",{attrs:{color:"blue"}},[t._v("\n    配送中\n")]):3===t.status?r("Tag",{attrs:{color:"geekblue"}},[t._v("\n    配送完成\n")]):4===t.status?r("Tag",{attrs:{color:"red"}},[t._v("\n    设置不配送\n")]):5===t.status?r("Tag",{attrs:{color:"volcano"}},[t._v("\n    无责任解约\n")]):6===t.status?r("Tag",{attrs:{color:"orange"}},[t._v("\n    运营取消\n")]):t._e()},staticRenderFns:[]}},mHOb:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Col",{staticClass:"box-detail",attrs:{span:t.span,offset:t.offset}},[""!==t.title?r("div",{staticClass:"box-detail-title",style:{width:t.titleWidth+"px"}},[t._v(t._s(t.title)+"：")]):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},nDjJ:function(t,e,r){var a=r("VU/8")(r("EtaK"),r("PmAA"),!1,function(t){r("xQoV")},"data-v-79abebfa",null);t.exports=a.exports},"nW/l":function(t,e,r){var a=r("drbh");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("bf83fb2c",a,!0,{})},oW4m:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-order-status",props:{status:{type:Number,required:!0}}}},opLm:function(t,e,r){var a=r("FurG");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("29ee6536",a,!0,{})},"p/y2":function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},pEmh:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{dispatch(t,e,r){let a=this.$parent||this.$root,n=a.$options.name;for(;a&&(!n||n!==t);)(a=a.$parent)&&(n=a.$options.name);a&&a.$emit.apply(a,[e].concat(r))},broadcast(t,e,r){(function t(e,r,a){this.$children.forEach(n=>{n.$options.name===e?n.$emit.apply(n,[r].concat(a)):t.apply(n,[e,r].concat([a]))})}).call(this,t,e,r)}}}},q3hg:function(t,e,r){var a=r("a7tE");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("6d8d5cc0",a,!0,{})},qN8B:function(t,e,r){var a=r("5EYM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("78e1c74c",a,!0,{})},qkgB:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".modal-body[data-v-67bf1da2]{max-height:650px;overflow-y:auto}",""])},r7IW:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("component-modal",{attrs:{title:"创建配送点",loading:t.loading,width:850}},[r("Form",{ref:"formCreate",attrs:{model:t.formCreate,"label-width":100,rules:t.ruleCreate}},[r("FormItem",{attrs:{label:"联系人：",prop:"contacts"}},[r("Input",{attrs:{placeholder:"联系人"},model:{value:t.formCreate.contacts,callback:function(e){t.$set(t.formCreate,"contacts",e)},expression:"formCreate.contacts"}})],1),t._v(" "),r("FormItem",{attrs:{label:"联系电话：",prop:"contact_way"}},[r("Input",{attrs:{placeholder:"联系电话"},model:{value:t.formCreate.contact_way,callback:function(e){t.$set(t.formCreate,"contact_way",e)},expression:"formCreate.contact_way"}})],1),t._v(" "),r("FormItem",{attrs:{label:"地址：",prop:"name"}},[r("place-search-select",{staticStyle:{width:"500px"},on:{pois:t.pois},model:{value:t.formCreate.name,callback:function(e){t.$set(t.formCreate,"name",e)},expression:"formCreate.name"}})],1),t._v(" "),r("FormItem",{attrs:{label:"地图页面："}},[r("box",{attrs:{title:"地图页面"}},[r("div",{staticClass:"amap-page-container"},[r("el-amap",{attrs:{center:[t.lng,t.lat]}},[r("el-amap-marker",{attrs:{vid:"component-marker",position:[t.lng,t.lat]}}),t._v(" "),r("div",{staticClass:"long-lat-text"},[t._v("经度："+t._s(t.lng)+" ， 维度："+t._s(t.lat))])],1)],1)])],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.createSubmit("formCreate","order/point/"+t.data.id)}}},[t._v("创建")])],1),t._v(" "),r(t.component.current,{tag:"components",attrs:{data:t.component.data},on:{"on-change":t.hideComponent}})],1)},staticRenderFns:[]}},rofJ:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".checkbox-button-group[data-v-79abebfa]{display:inline-block;font-size:0;vertical-align:middle}",""])},s7MV:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"box",props:{title:{type:String,default:"标题"},form:[Boolean]}}},"sF/1":function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box",class:{"box-form":this.form}},[e("div",{staticClass:"box-header"},[this._v(this._s(this.title))]),this._v(" "),e("Row",{staticClass:"box-detail"},[this._t("default")],2)],1)},staticRenderFns:[]}},tCFX:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r("Uo1L"),o=(a=n)&&a.__esModule?a:{default:a};e.default={name:"my-lists",components:{MyTable:o.default},props:{value:{type:Object,default:function(){return{data:[],page:{total:100,current:1,page_size:20}}}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$emit("change",t)},rowClassName:function(t,e){}}}},uoRf:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},vXEz:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(r("HtL/")),n=c(r("6NqX")),o=c(r("xi7R")),i=c(r("NzrU")),s=r("Gz8c"),l=c(r("PJh5"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"change",components:{CDatePicker:i.default,ComponentModal:a.default},mixins:[n.default,o.default],data:function(){return{formUpdate:{arrival_warehouse_time:this.data.arrival_warehouse_time,unit_price:parseFloat(this.data.unit_price)},rulesUpdate:(0,s.Validator)(this),options:{disabledDate:function(t){return!(0,l.default)(t).isBetween((0,l.default)().subtract("day",2),(0,l.default)().add("day",1),"day")}}}}}},wJ7C:function(t,e,r){var a=r("VU/8")(r("/3ai"),r("dyFJ"),!1,function(t){r("zpGD")},"data-v-e101fc32",null);t.exports=a.exports},weqv:function(t,e,r){var a=r("zlpd");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("84f30f12",a,!0,{})},x4tO:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},xQoV:function(t,e,r){var a=r("rofJ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("6190697c",a,!0,{})},xYX8:function(t,e,r){var a=r("Zx7m");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("1844150c",a,!0,{})},xi7R:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=r("nf43"),o=(a=n)&&a.__esModule?a:{default:a};e.default={mixins:[o.default],methods:{unObserver:function(t){return JSON.parse(JSON.stringify(t))},updateSubmit:function(t,e){var r=this;this.$refs[t].validate(function(a){a?(r.loading=!0,r.$http.put(e,r.unObserver(r._data[t])).then(function(t){r.$Message.success("Success!"),r.change(!1)}).catch(function(t){r.formatErrors(t)}).finally(function(){r.loading=!1})):r.$Message.error("验证不通过!")})},createSubmit:function(t,e){var r=this;this.$refs[t].validate(function(a){a&&(r.loading=!0,r.$http.post(e,r._data[t]).then(function(t){r.$Message.success("Success!"),r.change(!1)}).catch(function(t){r.formatErrors(t)}).finally(function(){r.loading=!1}))})}}}},"zN/v":function(t,e){t.exports={render:function(){var t=this,e=this,r=e.$createElement,a=e._self._c||r;return a("component-modal",{attrs:{title:"查看出车单",width:1e3,loading:e.loading}},[a("div",{staticClass:"order-step"},[0===e.orders.status||1===e.orders.status||2===e.orders.status||3===e.orders.status?a("Steps",{attrs:{current:e.orders.status}},[a("Step",{attrs:{title:"未签到",content:""}}),e._v(" "),a("Step",{attrs:{title:"已签到",content:""}}),e._v(" "),a("Step",{attrs:{title:"配送中",content:""}}),e._v(" "),a("Step",{attrs:{title:"配送完成",content:""}})],1):e._e()],1),e._v(" "),a("box",{attrs:{title:"任务信息"}},[a("detail",{attrs:{title:"任务编号"}},[e._v(e._s(e.orders.task_id))]),e._v(" "),a("detail",{attrs:{title:"任务类型"}},[e.orders.task&&1===e.orders.task.type?a("span",[e._v("主任务")]):a("span",[e._v("临时任务")])]),e._v(" "),a("detail",{attrs:{title:"线路名称"}},[e._v(e._s(e.orders.name))]),e._v(" "),a("detail",{attrs:{title:"配送信息"}},[e._v(e._s(e.orders.point_count)+" 个 (非固定配送点)")]),e._v(" "),a("detail",{attrs:{title:"区域描述",span:16}},[e._v(e._s(e.orders.delivery_point_remark))])],1),e._v(" "),a("box",{attrs:{title:"仓库信息"}},[a("detail",{attrs:{title:"仓库名称"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.title:""))]),e._v(" "),a("detail",{attrs:{title:"联系人"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.contacts:""))]),e._v(" "),a("detail",{attrs:{title:"联系电话"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.contacts_phone:""))]),e._v(" "),a("detail",{attrs:{title:"到仓时间"}},[e._v(e._s(e.orders.arrival_warehouse_time))]),e._v(" "),a("detail",{attrs:{title:"仓库地址"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.address:""))]),e._v(" "),a("detail",{attrs:{title:"仓库备注"}},[e._v(e._s(e.orders.warehouse?e.orders.warehouse.remark:""))])],1),e._v(" "),a("box",{attrs:{title:"司机信息"}},[a("detail",{attrs:{title:"司机姓名"}},[e._v(e._s(e.orders.driver?e.orders.driver.name:""))]),e._v(" "),a("detail",{attrs:{title:"司机类型"}},[e.orders.driver&&0===e.orders.driver.driver_type?a("span",[e._v("自营司机")]):e._e(),e._v(" "),e.orders.driver&&1===e.orders.driver.driver_type?a("span",[e._v("合作司机")]):e._e(),e._v(" "),e.orders.driver&&2===e.orders.driver.driver_type?a("span",[e._v("社会司机")]):e._e()]),e._v(" "),a("detail",{attrs:{title:"联系电话"}},[e._v(e._s(e.orders.driver?e.orders.driver.phone:""))]),e._v(" "),a("detail",{attrs:{title:"车牌号码"}},[e._v(e._s(e.orders.driver?e.orders.driver.car_number:""))]),e._v(" "),a("detail",{attrs:{title:"司机头像"}},[a("img",{attrs:{src:e.orders.driver?e.orders.driver.head_img_url:"",height:"30",width:"30"}})])],1),e._v(" "),a("box",{attrs:{title:"途径点"}},[a("i-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.showComponent("Point",e.orders)}}},[e._v("添加")]),e._v(" "),a("i-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.notify(e.orders)}}},[e._v("通知")]),e._v(" "),a("Table",{staticStyle:{"margin-top":"10px"},attrs:{columns:e.columns,data:e.orders.delivery}})],1),e._v(" "),a(e.component.current,{tag:"components",attrs:{data:e.component.data},on:{"on-change":e.hideComponent,"on-ok":function(){t.getView()}}})],1)},staticRenderFns:[]}},zN6J:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{staticStyle:{position:"relative"},attrs:{title:t.title,value:!0,transfer:!1,"mask-closable":!1,width:t.width},on:{"on-visible-change":t.change}},[t.loading?r("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),r("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2)],1)},staticRenderFns:[]}},zlpd:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},zpGD:function(t,e,r){var a=r("x4tO");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("933ab4dc",a,!0,{})}});