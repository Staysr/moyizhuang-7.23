webpackJsonp([20],{"0IRZ":function(t,e,n){var a=n("p/y2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("2923ef86",a,!0,{})},"0eeJ":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default"),t._v(" "),n("div",{staticClass:"box-flex-list"},[n("Card",{attrs:{"dis-hover":""}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._t("title",[n("span",[t._v("列表")])]),t._v(" "),t._t("button")],2),t._v(" "),n("my-table",{ref:"table",attrs:{columns:t.columns,data:t.value.data,size:"small","row-class-name":t.rowClassName,loading:t.loading}}),t._v(" "),n("Page",{attrs:{total:t.value.page.total,size:"small",current:t.value.page.current,"page-size":t.value.page.page_size,"show-total":""},on:{"on-change":t.change}})],1)],1)],2)},staticRenderFns:[]}},"1XX2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"my-table",props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{leftCol:[{title:"序号",render:function(t,e){var n=e.index;return t("span",null,[++n])},width:75}],rightCol:[]}},computed:{tableCol:function(){return this.leftCol.concat(this.columns,this.rightCol)}}}},"5EYM":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".ivu-table .table-info-row td[data-v-46901fae]{background-color:#2db7f5;color:#fff}",""])},"8Odt":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},"9Xvl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=function(t,e){for(let n=0;n<e.length;n++)if(t===e[n])return!0;return!1},e.camelcaseToHyphen=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.getScrollBarSize=function(t){if(o)return 0;if(t||void 0===r){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const e=document.createElement("div"),n=e.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const a=t.offsetWidth;e.style.overflow="scroll";let o=t.offsetWidth;a===o&&(o=e.clientWidth),document.body.removeChild(e),r=a-o}return r},e.getStyle=function(t,e){if(!t||!e)return null;"float"===(n=e,e=n.replace(s,function(t,e,n,a){return a?n.toUpperCase():n}).replace(l,"Moz$1"))&&(e="cssFloat");var n;try{const n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}},n.d(e,"firstUpperCase",function(){return c}),e.warnProp=function(t,e,n,a){n=c(n),a=c(a),console.error(`[iView warn]: Invalid prop: type check failed for prop ${e}. Expected ${n}, got ${a}. (found in component: ${t})`)},n.d(e,"deepCopy",function(){return u}),e.scrollTop=function(t,e=0,n,a=500,o){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)});const r=Math.abs(e-n),i=Math.ceil(r/a*50);!function e(n,a,r){if(n===a)return void(o&&o());let i=n+r>a?a:n+r;n>a&&(i=n-r<a?a:n-r);t===window?window.scrollTo(i,i):t.scrollTop=i;window.requestAnimationFrame(()=>e(i,a,r))}(e,n,i)},n.d(e,"findComponentUpward",function(){return d}),e.findComponentDownward=function t(e,n){const a=e.$children;let o=null;if(a.length)for(const e of a){const a=e.$options.name;if(a===n){o=e;break}if(o=t(e,n))break}return o},e.findComponentsDownward=function t(e,n){return e.$children.reduce((e,a)=>{a.$options.name===n&&e.push(a);const o=t(a,n);return e.concat(o)},[])},e.findComponentsUpward=function t(e,n){let a=[];const o=e.$parent;return o?(o.$options.name===n&&a.push(o),a.concat(t(o,n))):[]},e.findBrothersComponents=function(t,e,n=!0){let a=t.$parent.$children.filter(t=>t.$options.name===e),o=a.findIndex(e=>e._uid===t._uid);n&&a.splice(o,1);return a},e.hasClass=p,e.addClass=function(t,e){if(!t)return;let n=t.className;const a=(e||"").split(" ");for(let e=0,o=a.length;e<o;e++){const o=a[e];o&&(t.classList?t.classList.add(o):p(t,o)||(n+=" "+o))}t.classList||(t.className=n)},e.removeClass=function(t,e){if(!t||!e)return;const n=e.split(" ");let a=" "+t.className+" ";for(let e=0,o=n.length;e<o;e++){const o=n[e];o&&(t.classList?t.classList.remove(o):p(t,o)&&(a=a.replace(" "+o+" "," ")))}t.classList||(t.className=f(a))},e.setMatchMedia=function(){if("undefined"!=typeof window){const t=t=>({media:t,matches:!1,on(){},off(){}});window.matchMedia=window.matchMedia||t}};var a=n("I3G/");const o=n.n(a).a.prototype.$isServer;let r;const i=!o&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1);e.MutationObserver=i;const s=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/;function c(t){return t.toString()[0].toUpperCase()+t.toString().slice(1)}function u(t){const e=(n=t,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(n)]);var n;let a;if("array"===e)a=[];else{if("object"!==e)return t;a={}}if("array"===e)for(let e=0;e<t.length;e++)a.push(u(t[e]));else if("object"===e)for(let e in t)a[e]=u(t[e]);return a}function d(t,e,n){n="string"==typeof e?[e]:e;let a=t.$parent,o=a.$options.name;for(;a&&(!o||n.indexOf(o)<0);)(a=a.$parent)&&(o=a.$options.name);return a}const f=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")};function p(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}e.dimensionMap={xs:"480px",sm:"768px",md:"992px",lg:"1200px",xl:"1600px"};e.sharpMatcherRegx=/#([^#]+)$/},Aysg:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("Table",{ref:"table",attrs:{columns:this.tableCol,data:this.data,size:"small",loading:this.loading}})},staticRenderFns:[]}},ByFc:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},EHHk:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("my-lists",{attrs:{columns:t.columns,loading:t.loading},on:{change:t.search},model:{value:t.lists.data,callback:function(e){t.$set(t.lists,"data",e)},expression:"lists.data"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("span",[t._v("搜索")])]),t._v(" "),n("Form",{ref:"searchForm",attrs:{model:t.searchForm,inline:"","label-width":60}},[n("FormItem",{attrs:{label:"外包公司"}},[n("remote",{attrs:{"remote-url":"company/select",remote:!1,ready:!0},model:{value:t.searchForm.company_id,callback:function(e){t.$set(t.searchForm,"company_id",e)},expression:"searchForm.company_id"}})],1),t._v(" "),n("FormItem",{attrs:{prop:"driver_id",label:"司机姓名"}},[n("remote",{attrs:{"remote-url":"driver/select",remote:!0,ready:!1,params:{company_id:this.searchForm.company_id}},model:{value:t.searchForm.driver_id,callback:function(e){t.$set(t.searchForm,"driver_id",e)},expression:"searchForm.driver_id"}})],1),t._v(" "),n("FormItem",{attrs:{label:"车牌号码"}},[n("Input",{model:{value:t.searchForm.number,callback:function(e){t.$set(t.searchForm,"number",e)},expression:"searchForm.number"}})],1),t._v(" "),n("FormItem",{attrs:{label:"创建时间","label-width":60}},[n("c-date-picker",{attrs:{type:"daterange"},model:{value:t.searchForm.created_at,callback:function(e){t.$set(t.searchForm,"created_at",e)},expression:"searchForm.created_at"}})],1),t._v(" "),n("FormItem",{attrs:{"label-width":1}},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.search(1)}}},[t._v("搜索")]),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(e){t.download()}}},[t._v("导出")])],1)],1)],1)],1)},staticRenderFns:[]}},FR7p:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(n("nf43")),o=r(n("BtGT"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={name:"remote",mixins:[a.default,o.default],props:{remoteUrl:{type:String,default:"",required:!0},remote:{type:Boolean,default:!0},cache:{type:Boolean,default:!0},ready:{type:Boolean,default:!1},params:{type:Object,default:function(){}},searchKey:{type:String,default:"name"},value:{type:[String,Number]}},data:function(){return{publicValue:"",publicOptions:[],publicParams:{},options:this.defaultOption()}},mounted:function(){this.ready&&this.request()},methods:{setValue:function(t){this.$emit("input",t),this.$emit("on-change",this.options.find(function(e){return e.id===t}))},remoteMethod:function(t){var e=this;this.value!=t&&(this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue})&&this.options.find(function(t){return t.id===e.$refs[e.uuid].publicValue}).name===t||this.remote&&(this.publicParams[this.searchKey]=t,this.request()))},request:function(){var t=this;0===this.$store.getters.cache(this.key()).length?this.$store.getters.cacheLock(this.key())?(this.loading=!0,setTimeout(function(){t.refresh(),t.loading=!1},4e3)):this.search():this.refresh()},search:function(){var t=this;this.loading=!0,this.$store.commit("setCacheLock",this.key()),this.$http.get(this.remoteUrl,{params:this.getParams()}).then(function(e){t.cache?t.$store.commit("setCacheData",{key:t.key(),data:e.data.data}):t.publicOptions=e.data.data}).finally(function(){t.refresh(),t.loading=!1})},defaultOption:function(){return this.cache?this.$store.getters.cache(this.key()):this.publicOptions},key:function(){return this.remoteUrl+JSON.stringify(this.getParams())},refresh:function(){this.options=this.cache?this.$store.getters.cache(this.key()):this.publicOptions},getParams:function(){return Object.assign({},this.params,this.publicParams)},unObserver:function(t){return JSON.parse(JSON.stringify(t))}},watch:{params:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.$refs[this.uuid].clearSingleSelect(),this.request())},deep:!0},value:{handler:function(t){this.publicValue=t},immediate:!0}}}},JBTH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(n("dSCJ")),o=s(n("h7KM")),r=s(n("NzrU")),i=s(n("KrrG"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"index",components:{Remote:i.default,CDatePicker:r.default,MyLists:a.default},mixins:[o.default],data:function(){return{columns:[{title:"车牌号码",key:"number"},{title:"关联司机",render:function(t,e){var n=e.row;return t("span",null,[n.driver?n.driver.name:""])}},{title:"司机号码",render:function(t,e){var n=e.row;return t("span",null,[n.driver?n.driver.phone:""])}},{title:"车辆型号",render:function(t,e){return t("span",null,[e.row.car_type.name])}},{title:"外包公司",render:function(t,e){return t("span",null,[e.row.company.name])}},{title:"车辆配件",key:"parts"},{title:"创建时间",key:"created_at"}]}},methods:{search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$http.get("car/index",{params:this.request(e)}).then(function(e){t.assignmentData(e.data.data)}).finally(function(){t.loading=!1})},download:function(){this.$http.download("car/export",this.request(),"车辆列表.xls")}}}},KrrG:function(t,e,n){var a=n("VU/8")(n("FR7p"),n("a/P1"),!1,function(t){n("VXKl")},"data-v-12f16dd7",null);t.exports=a.exports},MWZo:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,".remote-select[data-v-12f16dd7]{width:150px}",""])},MsRT:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("DatePicker",{attrs:{type:t.type,format:t.format,options:t.options,placement:"bottom-end",placeholder:"选择时间",readonly:t.readonly,"split-panels":t.panels,transfer:""},on:{"on-change":t.change},model:{value:t.sValue,callback:function(e){t.sValue=e},expression:"sValue"}})},staticRenderFns:[]}},NzrU:function(t,e,n){var a=n("VU/8")(n("keSp"),n("MsRT"),!1,function(t){n("Pojc")},"data-v-15632f10",null);t.exports=a.exports},Pojc:function(t,e,n){var a=n("8Odt");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("354e0532",a,!0,{})},Uo1L:function(t,e,n){var a=n("VU/8")(n("1XX2"),n("Aysg"),!1,function(t){n("0IRZ")},"data-v-7eccc0f0",null);t.exports=a.exports},VXKl:function(t,e,n){var a=n("MWZo");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("02b562e3",a,!0,{})},Y9UY:function(t,e,n){var a=n("VU/8")(n("JBTH"),n("EHHk"),!1,function(t){n("ZIHO")},"data-v-e6c794cc",null);t.exports=a.exports},ZIHO:function(t,e,n){var a=n("ByFc");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("5a488ed0",a,!0,{})},"a/P1":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i-select",{ref:t.uuid,staticClass:"remote-select",attrs:{filterable:t.remote,remote:t.remote,"remote-method":t.remoteMethod,clearable:"",loading:t.loading},on:{"on-change":t.setValue},model:{value:t.publicValue,callback:function(e){t.publicValue=e},expression:"publicValue"}},t._l(t.options,function(e,a){return n("i-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))},staticRenderFns:[]}},dSCJ:function(t,e,n){var a=n("VU/8")(n("tCFX"),n("0eeJ"),!1,function(t){n("qN8B")},"data-v-46901fae",null);t.exports=a.exports},h7KM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o=n("nf43"),r=(a=o)&&a.__esModule?a:{default:a};e.default={mixins:[r.default],data:function(){return{searchForm:{},lists:{data:{data:[],page:{total:0,current:1,page_size:20}}},component:{current:"",data:{}}}},mounted:function(){this.search()},methods:{search:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},assignmentData:function(t){this.lists.data.data=t.data,this.lists.data.page.total=t.total,this.lists.data.page.current=t.current_page,this.lists.data.page.page_size=t.per_page},showComponent:function(t,e){this.component.current=t,this.component.data=e},hideComponent:function(){this.component.current="",this.component.data={},this.search()},destroyItem:function(t,e){var n=this;this.loading=!0,this.$http.delete(e).then(function(t){n.search()}).catch(function(t){n.formatErrors(t)}).finally(function(){n.loading=!1})},request:function(t){var e=JSON.parse(JSON.stringify(this.searchForm));return e.page=t,e}}}},keSp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("9Xvl"),o=i(n("pEmh")),r=i(n("PJh5"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"c-date-picker",mixins:[o.default],props:{value:{type:[Date,String,Array]},type:{validator:function(t){return(0,a.oneOf)(t,["year","month","date","daterange","datetime","datetimerange"])},default:"date"},format:String,options:Object,readonly:{type:Boolean,default:!1},panels:{type:Boolean,default:!1},customize:{type:Boolean,default:!1}},data:function(){return{sValue:this.value}},methods:{change:function(t,e){this.$emit("on-change",t),this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-blur",t)}},watch:{value:function(t){this.customize&&void 0!==t&&"00:00:00"===(0,r.default)(t[1]).format("HH:mm:ss")&&(t[1]=(0,r.default)(t[1]).format("YYYY-MM-DD")+" 23:59:59"),this.sValue=t}}}},"p/y2":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},pEmh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{dispatch(t,e,n){let a=this.$parent||this.$root,o=a.$options.name;for(;a&&(!o||o!==t);)(a=a.$parent)&&(o=a.$options.name);a&&a.$emit.apply(a,[e].concat(n))},broadcast(t,e,n){(function t(e,n,a){this.$children.forEach(o=>{o.$options.name===e?o.$emit.apply(o,[n].concat(a)):t.apply(o,[e,n].concat([a]))})}).call(this,t,e,n)}}}},qN8B:function(t,e,n){var a=n("5EYM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("78e1c74c",a,!0,{})},tCFX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o=n("Uo1L"),r=(a=o)&&a.__esModule?a:{default:a};e.default={name:"my-lists",components:{MyTable:r.default},props:{value:{type:Object,default:function(){return{data:[],page:{total:100,current:1,page_size:20}}}},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{change:function(t){this.$emit("change",t)},rowClassName:function(t,e){}}}}});